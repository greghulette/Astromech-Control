window.Batman=function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="//g.alicdn.com/nano-batman-dialog/1.0.16/",n(n.s=40)}([function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=window.React},function(e,t,n){"use strict";var r=n(0).default;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"initState",{enumerable:!0,get:function(){return m.initState}}),Object.defineProperty(t,"reducer",{enumerable:!0,get:function(){return m.reducer}}),Object.defineProperty(t,"DispatchContext",{enumerable:!0,get:function(){return m.DispatchContext}}),Object.defineProperty(t,"useDispatch",{enumerable:!0,get:function(){return m.useDispatch}}),Object.defineProperty(t,"DataContext",{enumerable:!0,get:function(){return m.DataContext}}),Object.defineProperty(t,"useData",{enumerable:!0,get:function(){return m.useData}}),t.useInitData=t.updateI18n=t.i18n=t.getData=t.env=void 0;var a,o=r(n(5)),i=r(n(7)),u=r(n(6)),s=r(n(9)),c=r(n(13)),l=n(1),f=r(n(8)),d=r(n(10)),p=n(3),m=n(63),h=["api","lang","config","signed"],v={isMobile:(0,p.isMobile)(),region:d.default.getRegion(),isCN:"CN"===d.default.getRegion(),locale:(0,p.getLocale)(),isRu:/aliexpress.ru$/.test(window.location.host),countryAreaSelectSelectStyle:(0,p.isMobile)()&&"nativeStyle"};t.env=v;t.getData=function(){return a};var g={};t.i18n=g;var _=function(e){Object.assign(g,e)};t.updateI18n=_;var y=function(e){var t=e.api,n=e.lang,r=e.config,a=e.signed,o=(0,c.default)(e,h);_(n);var i=(0,s.default)({signed:a&&d.default.isLoggedIn()},o);if(t&&Object.assign(i,{api:t}),r){var u=!1,l=!1;-1!==["EMAIL_FIRST","PHONE_FIRST"].indexOf(r.joinTheme)&&(u=!0),-1!==["EMAIL_FIRST","PHONE_FIRST"].indexOf(r.loginTheme)&&(l=!0),Object.assign(i,(0,s.default)((0,s.default)({},r),{},{showJoinSwitch:u,showLoginSwitch:l}))}return i};t.useInitData=function(e){var t=e.type,n=e.data,r=(0,l.useState)((function(){return(0,s.default)((0,s.default)({},y(n)),{},{loading:"dialog"!==t})})),c=(0,u.default)(r,2),d=c[0],p=c[1];return a=d,(0,l.useEffect)((function(){"dialog"!==t&&(0,i.default)(o.default.mark((function e(){var t;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.__batman_fetch__){e.next=6;break}return e.next=3,window.__batman_fetch__.catch((function(e){}));case 3:t=e.sent,e.next=9;break;case 6:return e.next=8,(0,f.default)({url:v.isRu?"https://login.aliexpress.ru/join/login_page_config.htm":"https://login.aliexpress.com/join/login_page_config.htm",withCredentials:!0}).catch((function(e){}));case 8:t=e.sent;case 9:a=Object.assign({},a,y((0,s.default)({loading:!1},t||{}))),p(a);case 11:case"end":return e.stop()}}),e)})))()}),[]),d}},function(e,t,n){"use strict";var r=n(4).default,a=n(0).default;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"awsc",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"rsaPassword",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"showIframeDialog",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"getNoCaptcha",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"isMobile",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"supportSmartlock",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"isUseNewSmartlockApi",{enumerable:!0,get:function(){return l.isUseNewSmartlockApi}}),Object.defineProperty(t,"getLocale",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"sleep",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"events",{enumerable:!0,get:function(){return p.default}});var o=a(n(19)),i=a(n(54)),u=a(n(56)),s=a(n(59)),c=a(n(60)),l=r(n(61)),f=a(n(62)),d=a(n(29)),p=a(n(20))},function(e,t,n){var r=n(23).default;function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}e.exports=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(n,i,u):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){e.exports=n(41)},function(e,t,n){var r=n(42),a=n(43),o=n(25),i=n(45);e.exports=function(e,t){return r(e)||a(e,t)||o(e,t)||i()},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(e,t,n,r,a,o,i){try{var u=e[o](i),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,a)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(a,o){var i=e.apply(t,r);function u(e){n(i,a,o,u,s,"next",e)}function s(e){n(i,a,o,u,s,"throw",e)}u(void 0)}))}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=window.lib.request},function(e,t,n){var r=n(28);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(17)),o=r(n(18)),i=r(n(26)),u=r(n(47)),s=n(27),c=new(function(){function e(){(0,a.default)(this,e),this.siteFormat=/^[a-z]{3}(_[a-z]{1})?$/,this.x_localeFormat=/^[a-z]{2}_[A-Z]{2}$/,this.s_localeFormat=/^[a-z]{2}_[A-Z]{2}$/,this.b_localeFormat=/^[a-z]{2}_[A-Z]{2}$/,this.c_tpFormat=/^[A-Z]{3}$/,this.regionFormat=/^[A-Z]{2,3}$/,this.provinceFormat=/^[0-9]{18}$/,this.cityFormat=/^[0-9]{18}$/,this.siFormat=/^(glo|rus|bra|esp|idn|fra|deu|ita)$/,this.signFormat=/^(y|n)$/,this.rmb_ppFormat=/^.*$/,this.x_userFormat=/^.*$/,this.issFormat=/^(y)$/,this.isbFormat=/^(y)$/,this.ispmFormat=/^(y)$/,this.isksFormat=/^(y)$/,this.isgclFormat=/^(y)$/,this.reg_verFormat=/^(new|old)$/,this.x_lFormat=/^[01]{1}$/,this.ber_lFormat=/^A\d$/,this.zero_orderFormat=/^(y)$/,this.ae_u_p_sFormat=/^[012]{1}$/,this.ups_u_tFormat=/^[0-9]{13,}$/,this.re_snsFormat=/^.*$/,this.x_csrfFormat=/^.*$/,this.x_c_chgFormat=/^[01]{1}$/,this.x_c_syncedFormat=/^[01]{1}$/,this.acs_rtFormat=/^[A-Za-z0-9]+$/,this.alimidFormat=/^[0-9]+$/,this.x_as_iFormat=/^([A-Za-z0-9]|(%))+/}return(0,o.default)(e,[{key:"get",value:function(e,t){return i.default.get(e,t)}},{key:"_setcookie",value:function(e,t,n){if(n&&!this.validate(t,n))return!1;var r=i.default.get(e,{domain:(0,s.getFixedDomainUrl)(),path:"/",raw:!0})||"";r=new RegExp("(.*&?"+t+"=)(.*?)(&.*|$)").test(r)?RegExp.$1+n+RegExp.$3:(r?r+"&":"")+t+"="+n,i.default.set(e,r,{domain:(0,s.getFixedDomainUrl)(),path:"/",expires:3650,raw:!0})}},{key:"_getCookie",value:function(e,t){var n=i.default.get(e,{domain:(0,s.getFixedDomainUrl)(),path:"/",raw:!0})||"",r=new RegExp("(.*&?"+t+"=)(.*?)(&.*|$)");n.match(r);var a=RegExp.$2;return r.test(n)&&this.validate(t,a)?a:""}},{key:"validate",value:function(e,t){return!/(&|=)/.test(t)&&!!(t&&this[e+"Format"]&&this[e+"Format"].test(t))}},{key:"getMSite",value:function(e,t){var n=i.default.get(e,{domain:"m.aliexpress.com",path:"/",raw:!0})||"",r=new RegExp("(.*&?"+t+"=)(.*?)(&.*|$)");n.match(r);var a=RegExp.$2;return r.test(n)&&this.validate(t,a)?a:""}},{key:"setSite",value:function(e){this._setcookie("aep_usuc_f","site",e)}},{key:"getSite",value:function(){return this._getCookie("aep_usuc_f","site")}},{key:"setRegion",value:function(e){this._setcookie("aep_usuc_f","region",e)}},{key:"getRegion",value:function(){return this._getCookie("aep_usuc_f","region")}},{key:"setProvince",value:function(e){this._setcookie("aep_usuc_f","province",e)}},{key:"getProvince",value:function(){return this._getCookie("aep_usuc_f","province")}},{key:"setCity",value:function(e){this._setcookie("aep_usuc_f","city",e)}},{key:"getCity",value:function(){return this._getCookie("aep_usuc_f","city")}},{key:"getAlimid",value:function(){return this._getCookie("aep_usuc_f","alimid")}},{key:"getMsiteProvince",value:function(){return i.default.get("ae-msite-province",{domain:(0,s.getFixedDomainUrl)(),path:"/",raw:!0})||""}},{key:"getMsiteCity",value:function(){return i.default.get("ae-msite-city",{domain:(0,s.getFixedDomainUrl)(),path:"/",raw:!0})||""}},{key:"setCurrency",value:function(e){this._setcookie("aep_usuc_f","c_tp",e)}},{key:"getCurrency",value:function(){return this._getCookie("aep_usuc_f","c_tp")}},{key:"setLocale",value:function(e){this._setcookie("xman_us_f","x_locale",e)}},{key:"getLocale",value:function(){return this._getCookie("xman_us_f","x_locale")}},{key:"setSellerLocale",value:function(e){i.default.set("intl_locale",e,{domain:(0,s.getFixedDomainUrl)(),path:"/",expires:365,raw:!0}),this.setLocale(e),this._setcookie("aep_usuc_f","s_locale",e)}},{key:"getSellerLocale",value:function(){return this._getCookie("aep_usuc_f","s_locale")}},{key:"setBuyerLocale",value:function(e){this.setLocale(e),this._setcookie("aep_usuc_f","b_locale",e)}},{key:"getBuyerLocale",value:function(){return this._getCookie("aep_usuc_f","b_locale")}},{key:"getSign",value:function(){return this._getCookie("xman_us_t","sign")}},{key:"isLoggedIn",value:function(){return"y"==this.getSign()}},{key:"getLoginId",value:function(){return this._getCookie("xman_us_t","rmb_pp")}},{key:"getIss",value:function(){return this._getCookie("aep_usuc_f","iss")}},{key:"isSeller",value:function(){return"y"===this.getIss()}},{key:"getIsb",value:function(){return this._getCookie("aep_usuc_f","isb")}},{key:"isBuyer",value:function(){return"y"===this.getIsb()}},{key:"getIsks",value:function(){return this._getCookie("aep_usuc_f","isks")}},{key:"isKaSeller",value:function(){return"y"===this.getIsks()}},{key:"getIsgcl",value:function(){return this._getCookie("aep_usuc_f","isgcl")}},{key:"isGreenChannel",value:function(){return"y"===this.getIsgcl()}},{key:"getIspm",value:function(){return this._getCookie("aep_usuc_f","ispm")}},{key:"isPremiumMember",value:function(){return"y"===this.getIspm()}},{key:"getIsfm",value:function(){return this._getCookie("aep_usuc_f","isfm")}},{key:"isFreeMember",value:function(){return"y"===this.getIsfm()}},{key:"getRegVer",value:function(){return this._getCookie("aep_usuc_f","reg_ver")}},{key:"getOversea",value:function(){return this._getCookie("xman_us_f","x_l")}},{key:"isOversea",value:function(){return"1"!==this.getOversea()}},{key:"_getXUserRaw",value:function(){return this._getCookie("xman_us_f","x_user")}},{key:"getXUserObj",value:function(){var e={country:"",firstName:"",lastName:"",memberSeq:""},t=(this._getXUserRaw()||"").split("|");return t.length>=5&&(e.country=t[0],e.firstName=t[1].replace(/</g,"&lt;").replace(/>/g,"&gt;"),e.lastName=t[2].replace(/</g,"&lt;").replace(/>/g,"&gt;"),e.memberSeq=t[4]),e}},{key:"getMemberSeq",value:function(){return this.getXUserObj().memberSeq}},{key:"isNewUser",value:function(){return""===this.getXUserObj().memberSeq}},{key:"setHistory",value:function(e){e&&u.default.logProduct({id:e})}},{key:"getHistory",value:function(){return u.default.getProducts()}},{key:"setAETest",value:function(){}},{key:"getAETest",value:function(){return""}},{key:"getBerL",value:function(){return this._getCookie("aep_usuc_t","ber_l")}},{key:"getZeroOrder",value:function(){return this._getCookie("xman_us_f","zero_order")}},{key:"isZeroOrderUser",value:function(){return"y"===this.getZeroOrder()}},{key:"getAeUps",value:function(){return this._getCookie("aep_usuc_f","ae_u_p_s")}},{key:"setAeUps",value:function(e){return this._setcookie("aep_usuc_f","ae_u_p_s",e)}},{key:"getAeUpsTime",value:function(){return this._getCookie("aep_usuc_f","ups_u_t")}},{key:"setAeUpsTime",value:function(e){return this._setcookie("aep_usuc_f","ups_u_t",e)}},{key:"getReSns",value:function(){return this._getCookie("aep_usuc_f","re_sns")}},{key:"getCsrfToken",value:function(){var e=this._getCookie("acs_usuc_t","x_csrf");return e||(window.__bl&&window.__bl.api?window.__bl.error(new Error("Cookie.getCsrfToken error")):window.__bl&&(window.__bl.pipe=window.__bl.pipe||[],window.__bl.pipe.push(["error",new Error("Cookie.getCsrfToken error")]))),e}},{key:"getXmanCookieChanged",value:function(){return this._getCookie("xman_us_f","x_c_chg")}},{key:"setXmanCookieChanged",value:function(e){return this._setcookie("xman_us_f","x_c_chg",""+e)}},{key:"getXmanCookieSynced",value:function(){return this._getCookie("xman_us_f","x_c_synced")}},{key:"setXmanCookieSynced",value:function(e){return this._setcookie("xman_us_f","x_c_synced",""+e)}},{key:"getACS_RT",value:function(){return this._getCookie("xman_us_f","acs_rt")}},{key:"getX_AS_I",value:function(){return this._getCookie("xman_us_f","x_as_i")}},{key:"getCNA",value:function(){return i.default.get("cna",{domain:(0,s.getFixedDomainUrl)(),path:"/",raw:!0})||""}},{key:"getAliApacheId",value:function(){return i.default.get("ali_apache_id",{domain:(0,s.getFixedDomainUrl)(),path:"/",raw:!0})||""}},{key:"getAeucid",value:function(){return i.default.get("aeu_cid",{domain:(0,s.getFixedDomainUrl)(),path:"/",raw:!0})||""}}]),e}());window.lib=window.lib||{},window.lib.cookie=c;var l=c;t.default=l},function(e,t,n){"use strict";var r=n(4).default,a=n(0).default;Object.defineProperty(t,"__esModule",{value:!0}),t.useDispatch=t.Context=t.reducer=t.initState=void 0;var o=a(n(9)),i=r(n(1)),u=a(n(10));t.initState=function(e){var t={errorTip:"",view:"password"};return u.default.isLoggedIn()?(t.view="hasLogin",t):("PHONE_FIRST"===e.loginTheme&&(t.view="mobilePassword"),t)};t.reducer=function(e,t){switch(t.type){case"show-error":return(0,o.default)((0,o.default)({},e),{},{errorTip:t.errorTip});case"hide-error":return(0,o.default)((0,o.default)({},e),{},{errorTip:""});case"change-view":return(0,o.default)((0,o.default)({},e),{},{view:t.view});default:return e}};var s=i.default.createContext((function(){}));t.Context=s;t.useDispatch=function(){return(0,i.useContext)(s)}},function(e,t,n){"use strict";var r=n(4).default,a=n(0).default;Object.defineProperty(t,"__esModule",{value:!0}),t.useDispatch=t.Context=t.reducer=t.initState=void 0;var o=a(n(9)),i=r(n(1));t.initState=function(e){var t={loading:!1,view:"email",coupon:null};return"PHONE_FIRST"===e.joinTheme&&(t.view="phone"),t};t.reducer=function(e,t){switch(t.type){case"change-view":return(0,o.default)((0,o.default)({},e),{},{view:t.view});case"show-loading":return(0,o.default)((0,o.default)({},e),{},{loading:!0});case"hide-loading":return(0,o.default)((0,o.default)({},e),{},{loading:!1});case"show-coupon":return(0,o.default)((0,o.default)({},e),{},{coupon:t.coupon});default:return e}};var u=i.default.createContext((function(){}));t.Context=u;t.useDispatch=function(){return(0,i.useContext)(u)}},function(e,t,n){var r=n(53);e.exports=function(e,t){if(null==e)return{};var n,a,o=r(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";var r=n(4).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(70);var a=r(n(1)),o=function(e){var t=e.loading,n=void 0!==t&&t,r=e.overlay,o=void 0!==r&&r,i=e.wrap,u=e.children,s=a.default.createElement("div",{className:"fm-loading".concat(o?" fm-loading-overlay":"")});return i&&(s=a.default.cloneElement(i,{children:s})),a.default.createElement(a.default.Fragment,null,n&&s,u&&a.default.createElement("div",{className:n?"fm-mask":"fm-loading-wrap"},u))},i=(0,a.memo)(o);t.default=i},function(e,t,n){"use strict";var r=n(0).default,a=n(4).default;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useCheckcode",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"TCheckcodeActions",{enumerable:!0,get:function(){return u.TCheckcodeActions}}),t.default=void 0,n(69);var o=a(n(1)),i=r(n(14)),u=a(n(71)),s=(0,o.memo)((function(e){var t=e.checkcode,n=void 0===t?{}:t,r=e.actions;return(0,o.useEffect)((function(){n.show&&r.init()}),[n.show,n.appkey,n.token]),o.default.createElement("div",{className:"fm-checkcode",style:{display:n.show?"block":"none"}},o.default.createElement(i.default,{loading:n.loading}),o.default.createElement("div",{id:r.id}),n.errorTip&&o.default.createElement("span",{className:"fm-error-tip"},n.errorTip))})),c=(0,o.memo)(s);t.default=c},function(e,t,n){"use strict";var r=n(0).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(97);var a=r(n(1)),o=n(2),i=n(3),u=function(e){var t,n,r=e.show,u=void 0===r||r,s=o.env.isRu;if(!u&&!s)return null;if("true"===String(null===(t=(0,o.getData)())||void 0===t?void 0:t.showPact))return null;return null!==(n=(0,o.getData)())&&void 0!==n&&n.openWallet?a.default.createElement("div",{className:"fm-agreement",dangerouslySetInnerHTML:{__html:(0,i.isMobile)()?o.i18n.AGREE_MENT_WALLET_H5:o.i18n.AGREE_MENT_WALLET}}):a.default.createElement("div",{className:"fm-agreement"},a.default.createElement("span",null,o.i18n.AGREE_MENT)," ",a.default.createElement("a",{className:"fm-agreement-link",href:o.i18n.MEMBER_SHIP_LINK||(s?"https://sell.aliexpress.com/ru/__pc/bz78nPuHcW.htm":"https://rule.alibaba.com/rule/detail/2042.htm"),onClick:function(){i.events.emit("agreement/member")}},o.i18n.AE_MEMBER_SHIP)," ",a.default.createElement("span",null,o.i18n.AND)," ",a.default.createElement("a",{className:"fm-agreement-link",href:o.i18n.PRIVACY_POLICY_LINK||(s?"https://sell.aliexpress.com/ru/__pc/Zj6CxW2d6V.htm":"https://sale.aliexpress.com/privacy_policy.htm"),onClick:function(){i.events.emit("agreement/policy")}},o.i18n.PRIVACY_POLICY))};t.default=u},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";var r=n(0).default;Object.defineProperty(t,"__esModule",{value:!0}),t.initAwsc=function(e,t){return g.apply(this,arguments)},t.default=void 0;var a,o,i,u=r(n(5)),s=r(n(9)),c=r(n(7)),l=r(n(8)),f=r(n(10)),d=r(n(29)),p=r(n(20)),m=new Promise((function(e){a=e})),h={load:!1,umidToken:"",getUA:function(){},getUmidToken:(i=(0,c.default)(u.default.mark((function e(){var t,n=arguments;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]?n[0]:500,!h.umidToken){e.next=6;break}return p.default.emit("safe/umid_token_valid"),e.abrupt("return",h.umidToken);case 6:return e.next=8,(0,d.default)(t);case 8:return h.umidToken||p.default.emit("safe/umid_token_empty"),e.abrupt("return",h.umidToken);case 10:case"end":return e.stop()}}),e)}))),function(){return i.apply(this,arguments)}),getBaxia:(o=(0,c.default)(u.default.mark((function e(){return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.AWSC||!window.baxiaCommon){e.next=2;break}return e.abrupt("return",window.baxiaCommon);case 2:return e.abrupt("return",m);case 3:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)})},v=h;function g(){return(g=(0,c.default)(u.default.mark((function e(t,n){var r;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h.load){e.next=2;break}return e.abrupt("return");case 2:if(window.AWSC&&window.baxiaCommon){e.next=5;break}return e.next=5,(0,l.default)({url:"https://assets.alicdn.com/g/??/AWSC/AWSC/awsc.js,/sd/baxia-entry/baxiaCommon.js",type:"script"});case 5:if(window.AWSC&&window.baxiaCommon){e.next=8;break}return a(),e.abrupt("return");case 8:return e.next=10,new Promise((function(e){window.AWSC.configFY((function(t){e(t)}),(0,s.default)({appName:"ctl",serviceLocation:t||("CN"===f.default.getRegion()?"cn":"us")},n?{mfrom:n}:{}))}));case 10:if(r=e.sent){e.next=13;break}return e.abrupt("return");case 13:h.load=!0,h.getUA=r.getUA.bind(r),h.umidToken=r.umidToken,a(window.baxiaCommon);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={},a=function(){},o={emit:function(e,t){r[e]&&r[e].forEach((function(e){e(t)}))},on:function(e,t){return r[e]||(r[e]=[]),r[e].push(t),function(){var n=r[e].indexOf(t);r[e][n]=a}},once:function(e,t){var n=this.on(e,(function(){t.apply(void 0,arguments),n()}))}};t.default=o},function(e,t,n){"use strict";var r=n(0).default;Object.defineProperty(t,"__esModule",{value:!0}),t.open=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.wrap,r=void 0===n||n,c=(0,a.default)(t,u),l=document.createElement("div");document.body.appendChild(l);var f,d=function(){(0,i.unmountComponentAtNode)(l),document.body.removeChild(l)};f=r?o.default.createElement(s,Object.assign({open:!0,onClose:d},c),e):e;return(0,i.render)(f,l),{close:d}},t.default=void 0;var a=r(n(13));n(57);var o=r(n(1)),i=n(58),u=["wrap"],s=function(e){var t=e.open,n=e.onClose,r=e.wrapProps,a=void 0===r?{}:r,i=e.contentProps,u=void 0===i?{}:i,s=e.children;return t?o.default.createElement("div",Object.assign({className:"fm-dialog"},a),o.default.createElement("div",{className:"fm-dialog-mask",onClick:n}),o.default.createElement("div",Object.assign({className:"fm-dialog-content"},u),s)):null},c=s;t.default=c},function(e,t,n){"use strict";var r=n(0).default,a=n(4).default;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useBaxia",{enumerable:!0,get:function(){return i.default}}),t.default=void 0,n(74);var o=a(n(1)),i=r(n(75)),u=(0,o.memo)((function(e){var t=e.bxId,n=e.bxValid,r=e.bxInit,a=e.bxTip;return(0,o.useEffect)((function(){t&&r&&r()}),[]),t?o.default.createElement("div",{className:"fm-baxia-container"},o.default.createElement("div",{id:t,className:"fm-baxia-box"}),n?null:o.default.createElement("span",{className:"fm-error-tip"},a||"please slide to verify")):null})),s=(0,o.memo)(u);t.default=s},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=n=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";var r=n(4).default,a=n(0).default;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"events",{enumerable:!0,get:function(){return h.events}}),t.default=void 0;var o=a(n(6));n(46);var i=r(n(1)),u=a(n(10)),s=a(n(48)),c=a(n(50)),l=a(n(51)),f=a(n(87)),d=a(n(112)),p=a(n(114)),m=n(2),h=n(3);n(38);var v={registerAction:"buyerJoin/buyer_xman_register_action",registerFrom:(0,h.isMobile)()?"AE_MSITE_REGISTER":"AE_MAIN_POPUP_WHOLESALE",couponCode:"",sessionId:"",isSendCoupon:!1},g={loginFrom:(0,h.isMobile)()?"AE_MSITE_LOGIN":"AE_MAIN_LOGIN"},_=function(e){var t=e.type,n=void 0===t?"page":t,r=e.tab,a=void 0===r?u.default.isNewUser()?"join":"login":r,h=e.hasJoin,_=void 0===h||h,y=e.hasLogin,b=void 0===y||y,w=e.joinParams,x=void 0===w?{}:w,k=e.loginParams,E=void 0===k?{}:k,C=e.snsReturnUrl,j=void 0===C?window.location.href:C,S=e.always,D=e.data,T=(0,m.useInitData)({type:n,data:D}),O=(0,i.useReducer)(m.reducer,{tab:a},m.initState),P=(0,o.default)(O,2),A=P[0],I=P[1];(0,c.default)(T.serverLocation,T.mfrom,n);var N=(0,i.useCallback)((function(e){I({type:"change-tab",tab:e})}),[]);return(0,i.useEffect)((function(){window.addEventListener("message",(function(e){var t,n;-1!==(null==e||null===(t=e.origin)||void 0===t?void 0:t.indexOf(".aliexpress.com"))&&null!==(n=e.data)&&void 0!==n&&n.agreeAll&&I({type:"agree-terms"})}))}),[]),i.default.createElement(m.DataContext.Provider,{value:T},i.default.createElement(m.DispatchContext.Provider,{value:I},i.default.createElement(s.default,{showTab:A.showTab,activityKey:A.tab,onChange:N},_&&i.default.createElement(s.default.Item,{key:"join",title:m.i18n.REGISTER},i.default.createElement(f.default,{params:Object.assign(v,x),afterJoin:S})),b&&i.default.createElement(s.default.Item,{key:"login",title:m.i18n.SIGN},i.default.createElement(l.default,{params:Object.assign(g,E),afterLogin:S}))),i.default.createElement(d.default,{show:A.showSns,snsReturnUrl:j,afterLogin:S}),i.default.createElement(p.default,{tab:A.tab,agreeTerms:A.agreeTerms})))},y=(0,i.memo)(_);t.default=y},function(e,t,n){var r=n(44);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={},a=decodeURIComponent,o=encodeURIComponent;function i(e){return"string"==typeof e}function u(e){return i(e)&&""!==e}function s(e){if(!u(e))throw new TypeError("Cookie name must be a non-empty string")}function c(e){return e}r.get=function(e,t){s(e),t="function"==typeof t?{converter:t}:t||{};var n=function(e,t){var n={};if(i(e)&&e.length>0)for(var r,o,u,s=t?a:c,l=e.split(/;\s/g),f=0,d=l.length;f<d;f++){if((u=l[f].match(/([^=]+)=/i))instanceof Array)try{r=a(u[1]),o=s(l[f].substring(u[1].length+1))}catch(e){}else r=a(l[f]),o="";r&&(n[r]=o)}return n}(document.cookie,!t.raw);return(t.converter||c)(n[e])},r.set=function(e,t,n){s(e);var r=(n=n||{}).expires,a=n.domain,i=n.path;n.raw||(t=o(String(t)));var c=e+"="+t,l=r;return"number"==typeof l&&(l=new Date).setDate(l.getDate()+r),l instanceof Date&&(c+="; expires="+l.toUTCString()),u(a)&&(c+="; domain="+a),u(i)&&(c+="; path="+i),n.secure&&(c+="; secure"),document.cookie=c,c},r.remove=function(e,t){return(t=t||{}).expires=new Date(0),this.set(e,"",t)};var l=r;t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFixedDomainUrl=function(){return r};var r="aliexpress.com";[{reg:/aliexpress.ru/,domain:"aliexpress.ru"},{reg:/tmall.ru/,domain:"tmall.ru"}].forEach((function(e){e.reg.test(window.location.host)&&(r=e.domain)}))},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){return new Promise((function(t){setTimeout((function(){t()}),e)}))};t.default=r},function(e,t,n){"use strict";var r=n(0).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(66);var a=r(n(1)),o=r(n(67)),i=n(3),u=function(e){var t=e.errorTip;return t?a.default.createElement("div",{className:"fm-error".concat((0,i.isMobile)()?" fm-error-mobile":"")},a.default.createElement(o.default,null),a.default.createElement("span",{className:"fm-error-message"},t)):null};t.default=u},function(e,t,n){"use strict";var r=n(0).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(5)),o=r(n(9)),i=r(n(7)),u=r(n(8)),s=n(32),c=n(3),l=n(11),f=n(2),d=function(e){if(e){var t=(0,f.getData)().api,n="".concat(t.tbSessionApplyStUrl,"?site=13&token=").concat(e);(new Image).src=n}},p=function(){var e=(0,i.default)(a.default.mark((function e(t){var n,r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.map((function(e){return(0,u.default)({url:e.url,data:e.data||{},type:"script",withCredentials:!0}).catch((function(e){}))})),r=new Promise((function(e){setTimeout((function(){e()}),5e3)})),e.next=4,Promise.race([Promise.all(n),r]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=(0,i.default)(a.default.mark((function e(t){var n,r,o,i,l,m,h,v,g;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,f.getData)(),r=n.api,o=n.u_token,i={st:t.st,language:(0,c.getLocale)(),join_from:"aliexpress",pattern:t.aeLoginPattern||"common",passport:t.loginId,u_token:o,scene:t.loginFrom,return_url:window.location.href,pageId:window.dmtrack_pageid},e.next=4,(0,u.default)({url:r.validateStUrl,data:i,type:"script"}).then((function(){return!0})).catch((function(e){}));case 4:if(e.sent){e.next=7;break}return e.abrupt("return",{type:"fail",login:!1});case 7:if("object"!=typeof window.xman_success){e.next=19;break}if(h=window.xman_success,(0,s.saveSmartLock)({id:t.loginId,password:t.password,avatarPath:(null===(l=h.person_data)||void 0===l?void 0:l.avatar_path)||"https://img.alibaba.com//wimg/bison/single/default_header_pic.jpg"}),"true"==h.isNeedUmid&&((0,f.getData)().u_token=c.awsc.umidToken),v=[],null===(m=h.mutilDomainsLogin)||void 0===m||m.forEach((function(e){v.push({domain:"ru",url:e})})),1!=h.cancel_icbu_tvs&&(g=h.xlogin_urls)&&g.length>0&&v.push({domain:"alibaba",url:g[0],data:{moduleKey:"common.xman.SetCookie",u_token:(0,f.getData)().u_token}}),!(v.length>0)){e.next=18;break}return d(h.tbsessionToken),e.next=18,p(v);case 18:return e.abrupt("return",{login:!0});case 19:if("object"!=typeof window.need_activation){e.next=22;break}return window.location.href=(0,f.getData)().api.tbActiveUrl+window.need_activation.token,e.abrupt("return",{redirct:!0});case 22:if("object"!=typeof window.need_email_verification){e.next=25;break}return window.location.href=(0,f.getData)().api.emailVerificationUrl,e.abrupt("return",{redirct:!0});case 25:if("object"!=typeof window.sub_company_account_reject){e.next=27;break}return e.abrupt("return",{type:"forbid",login:!1});case 27:if("object"!=typeof window.xlogin_failed){e.next=29;break}return e.abrupt("return",{type:"fail",login:!1});case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(e){var t=e.params,n=e.afterLogin,r=e.accountActions,u=e.passwordActions,s=e.checkcodeActions,d=(0,f.getData)().loginHost,p=(0,l.useDispatch)(),h=function(){var e=(0,i.default)(a.default.mark((function e(i,l){var v,g;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.titleMsg?(c.events.emit("login/login_fail",(0,o.default)((0,o.default)({},l),{},{error:i.titleMsg})),p({type:"show-error",errorTip:i.titleMsg})):p({type:"hide-error"}),!i.redirect){e.next=5;break}return c.events.emit("login/login_fail",(0,o.default)((0,o.default)({},l),{},{error:"redirect"})),top.location.href=i.redirectUrl,e.abrupt("return");case 5:if(!i.parentRedirect){e.next=9;break}return c.events.emit("login/login_fail",(0,o.default)((0,o.default)({},l),{},{error:"parentRedirect"})),parent.location.href=i.parentRedirectUrl,e.abrupt("return");case 9:if(!i.iframeRedirect){e.next=14;break}return c.events.emit("login/login_fail",(0,o.default)((0,o.default)({},l),{},{error:"iframeRedirect"})),v=(0,c.showIframeDialog)(i),window.addEventListener("message",(function(e){if(!d||e.origin===d){var t=null;try{e.data.indexOf("action")>-1&&(t=JSON.parse(decodeURIComponent(e.data)))&&"loginResult"==t.action&&(null==v||v.close(),h(t,l))}catch(e){}}})),e.abrupt("return");case 14:if(i.isCheckCodeShowed?(c.events.emit("login/login_fail",(0,o.default)((0,o.default)({},l),{},{error:"captcha"})),s.show()):s.hide(),i.loginId=r.getLoginId(),u&&(i.password=u.getPassword()),i.loginFrom=t.loginFrom,!i.st){e.next=23;break}return e.next=21,m(i);case 21:null!=(g=e.sent)&&g.login?(c.events.emit("login/login_success",l),n&&n()):null!=g&&g.redirct||("forbid"===(null==g?void 0:g.type)?(c.events.emit("login/login_fail",(0,o.default)((0,o.default)({},l),{},{error:"forbid"})),p({type:"show-error",errorTip:f.i18n.FORBID_ACTIVE})):(c.events.emit("login/login_fail",(0,o.default)((0,o.default)({},l),{},{error:"unavialable_service"})),p({type:"show-error",errorTip:f.i18n.UNAVIALABLE_SERVICE})));case 23:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return{handleResult:h}};t.default=h},function(e,t,n){"use strict";var r=n(4).default,a=n(0).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.saveSmartLock=void 0;var o=a(n(5)),i=a(n(7)),u=n(1),s=a(n(10)),c=n(3),l=n(2),f=r(n(19));t.saveSmartLock=function(e){var t=e.id,n=e.password,r=e.avatarPath;if(t&&n&&(0,c.supportSmartlock)()){var a=new window.PasswordCredential({id:t,password:n,iconURL:r});navigator.credentials.store(a).catch((function(){}))}};var d=!1,p=function(e){var t=e.loginActions;(0,u.useEffect)((function(){s.default.isLoggedIn()||d||(d=!0,(0,i.default)(o.default.mark((function e(){var n,r,a,i,u,s,d,p,m,h,v,g,_;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,c.supportSmartlock)()){e.next=2;break}return e.abrupt("return");case 2:return r=(0,c.isUseNewSmartlockApi)()?{mediation:"optional",password:!0}:{unmediated:!1,password:!0},e.next=5,navigator.credentials.get(r).catch((function(e){}));case 5:if(a=e.sent){e.next=8;break}return e.abrupt("return");case 8:if("password"===a.type){e.next=10;break}return e.abrupt("return");case 10:return null===(n=document.getElementById("fm-login-password"))||void 0===n||n.setAttribute("placeholder",l.i18n.SIGN_IN_AZ+" "+a.id),(i=document.getElementById("fm-login-id"))&&(i.value=a.id),u=(0,l.getData)(),s=u.loginFormData,d=u.api,p=u.serverLocation,m=u.mfrom,e.next=16,(0,f.initAwsc)(p,m);case 16:return e.next=18,f.default.getUmidToken();case 18:return h=e.sent,(0,c.isUseNewSmartlockApi)()?((g=new FormData).append("loginId",a.id),g.append("password",a.password),Object.keys(s).forEach((function(e){g.append(e,s[e])})),g.append("gsl","true"),g.append("umidToken",h),v={credentials:"include",body:g,method:"POST"}):(a.idName="loginId",a.additionalData=new FormData,Object.keys(s).forEach((function(e){a.additionalData.append(e,s[e])})),a.additionalData.append("gsl","true"),v={credentials:a,method:"POST"}),e.next=22,fetch(d.smartlockLoginUrl,v).then((function(e){return e.json()})).catch((function(e){}));case 22:(_=e.sent).content.data.aeLoginPattern="smartLock",t.handleResult(_.content.data,{loginType:"smartLock"});case 25:case"end":return e.stop()}}),e)})))())}),[])};t.default=p},function(e,t,n){"use strict";var r=n(4).default,a=n(0).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(77)),i=a(n(6)),u=r(n(1)),s=n(3),c=a(n(82)),l=function(e){var t=e.id,n=void 0===t?"":t,r=e.name,a=void 0===r?"":r,l=e.placeholder,f=e.accountRef,d=e.errorTip,p=void 0===d?"":d,m=e.selectStyle,h=e.showFlag,v=void 0===h||h,g=e.countryList,_=e.onFocus,y=e.onBlur,b=e.selectedCountry,w=e.onSelectCountry,x=(0,u.useState)(!1),k=(0,i.default)(x,2),E=k[0],C=k[1];return u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{className:"fm-field-select"},"nativeStyle"===m?u.default.createElement("select",{name:"nativePhoneCodeSelector",className:"fm-select",defaultValue:b.phoneCode,onChange:function(e){var t=e.target.selectedIndex,n=g[t];w(n)}},g.map((function(e){return u.default.createElement("option",{key:e.phoneCode,value:e.phoneCode},"+"+e.phoneCode+" "+(e.areaName||""))}))):u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{className:"fm-select-wrap",onClick:function(){C((function(e){return!e}))}},v&&u.default.createElement(c.default,{country:b.countryCode}),"+"+b.phoneCode,u.default.createElement(o.default,{className:"fm-select-arrow"}),E&&u.default.createElement("ul",{className:"fm-select-list"},g.map((function(e){return u.default.createElement("li",{key:e.phoneCode,onClick:function(t){!function(e,t){e.stopPropagation(),w(t),C(!1)}(t,e)}},v&&u.default.createElement(c.default,{country:e.countryCode}),"+"+e.phoneCode)})))))),u.default.createElement("input",{className:"fm-text fm-text-select".concat(p?" fm-text-error":""),name:a,id:n,type:(0,s.isMobile)()?"tel":"text","aria-label":l,placeholder:l,autoCapitalize:"off",ref:f,onFocus:_,onBlur:y}),u.default.createElement("input",{style:{width:0,height:0,padding:0,border:0,WebkitAppearance:"none"}}))};t.default=l},function(e,t,n){},function(e,t,n){"use strict";var r=n(0).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(6)),o=n(1),i=n(2);var u=function(){var e=(0,o.useRef)(null),t=(0,o.useState)(!1),n=(0,a.default)(t,2),r=n[0],u=n[1],s=(0,o.useState)(""),c=(0,a.default)(s,2),l=c[0],f=c[1],d=function(){var t;return(null===(t=e.current)||void 0===t?void 0:t.value)||""},p=function(){var e,t=d();if(!((e=t).length<6||e.length>20)&&/^[\w]{6,20}$/.test(e))return f(""),!0;f(i.i18n.INVALID_PASSWORD)};return{passwordRef:e,showPassword:r,passwordErrorTip:l,actions:{getPassword:d,toggle:function(){u((function(e){return!e}))},onBlur:function(){p()&&f("")},validate:p,showPasswordErrorTip:function(e){f(e)}}}};t.default=u},function(e,t,n){"use strict";var r=n(0).default;Object.defineProperty(t,"__esModule",{value:!0}),t.sendPost=p,t.default=void 0;var a=r(n(5)),o=r(n(7)),i=r(n(8)),u=r(n(10)),s=n(3),c=n(2),l=n(1),f=n(12),d=0;function p(e){var t=(0,c.getData)(),n=t.api,r=t.abt;return e["aeuic-ab-data"]=r,new Promise((function(t){var r=setTimeout((function(){l(),t("")}),1e4),a=document.createElement("iframe"),o="xman_post_iframe_".concat(d+=1),i=0,u=function(){1===i?function(){var e="";try{e=JSON.parse(a.contentWindow.name)}catch(e){}l(),t(e)}():0===i&&(i=1,"aliexpress.com"===document.domain?a.contentWindow.location.href="//page.aliexpress.com/join-proxy.htm":window.navigator&&window.navigator.userAgent&&-1!=window.navigator.userAgent.indexOf("MicroMessenger")?u():a.contentWindow.location.href="about:blank")};document.body.appendChild(a),a.style.display="none",a.contentWindow.name=o;var s,c=document.createElement("form");function l(){clearTimeout(r);try{a.contentWindow.document.write(""),a.contentWindow.close(),document.body.removeChild(a),document.body.removeChild(c),u=function(){}}catch(e){}}for(var f in c.target=o,c.action=n.joinActionApi,c.method="POST",c.id="ws-join-form-".concat((new Date).getTime()),document.body.appendChild(c),e)(s=document.createElement("input")).type="hidden",s.name=f,s.value=e[f],c.appendChild(s);c.submit(),a.onload=u}))}function m(e){return h.apply(this,arguments)}function h(){return(h=(0,o.default)(a.default.mark((function e(t){var n,r,o,u;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.registerFrom,r=t.timeout,e.next=3,(0,s.sleep)(r);case 3:return o=(0,c.getData)(),u=o.api,e.abrupt("return",(0,i.default)({url:u.joinCouponApi,type:"get",withCredentials:!0,data:{registerFrom:n,umidToken:s.awsc.umidToken,ua:s.awsc.getUA()}}).catch((function(e){})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=function(e){var t=e.afterJoin,n=e.params,r=(0,f.useDispatch)();return{sendPost:p,freeLogin:(0,l.useCallback)(function(){var e=(0,o.default)(a.default.mark((function e(o,l){var f,d,p,h,v,g;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(o.mutilDomainsLogin&&o.mutilDomainsLogin.length>0)){e.next=4;break}return d=o.mutilDomainsLogin.map((function(e){return(0,i.default)({url:e,type:"script",withCredentials:!0}).catch((function(e){}))})),e.next=4,Promise.race([Promise.all(d),(0,s.sleep)(5e3)]);case 4:if(!((null==o||null===(f=o.newLoginUrlList)||void 0===f?void 0:f.length)>0)){e.next=8;break}return p=o.newLoginUrlList.map((function(e){return(0,i.default)({url:e,timeout:1e4,withCredentials:!0}).catch((function(e){}))})),e.next=8,Promise.all(p);case 8:if(!u.default.isLoggedIn()){e.next=19;break}if(h=(0,c.getData)(),v=h.sendCouponConfig,s.events.emit("join/join_success",l),null==v||!v.needSendCoupon||!n.isSendCoupon){e.next=18;break}return e.next=14,m({timeout:v.sendCouponTimeWait,registerFrom:n.registerFrom});case 14:if(!(g=e.sent)||!g.success){e.next=18;break}return r({type:"show-coupon",coupon:g}),e.abrupt("return");case 18:t&&t();case 19:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[n,t])}};t.default=v},function(e,t,n){"use strict";var r=n(0).default;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useEdmBox",{enumerable:!0,get:function(){return i.default}}),t.default=void 0,n(99);var a=r(n(1)),o=n(2),i=r(n(100)),u=function(e){var t,n=e.allow,r=e.onChange,i=(0,o.useData)(),u=i.loading,s=i.edm,c=void 0===s?{}:s;return u?null:c.regEnabled&&(null===(t=c.copywrites)||void 0===t?void 0:t.regCheckBoxTxt)?a.default.createElement("div",{className:"fm-edm"},a.default.createElement("input",{className:"fm-edmbox-check",type:"checkbox",id:"register-edm",name:"edm-checkbox",checked:n,onChange:r}),a.default.createElement("span",null,c.copywrites.regCheckBoxTxt)):null};t.default=u},function(e,t,n){"use strict";n(116),n(118)},function(e,t,n){"use strict";var r=n(0).default,a=n(4).default;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"events",{enumerable:!0,get:function(){return s.default}}),t.default=void 0;var o=a(n(1)),i=r(n(24)),u=r(n(120)),s=r(n(20)),c=function(e){return e.children?o.default.createElement(u.default,e):o.default.createElement(i.default,e)},l=(0,o.memo)(c);t.default=l},function(e,t,n){"use strict";n.r(t);var r=n(5),a=n.n(r),o=n(7),i=n.n(o),u=n(1),s=n.n(u),c=n(39),l=n.n(c),f=n(8),d=n.n(f);window.BatmanLoader&&setTimeout((function(){window.BatmanLoader.dispatch()}),0),d.a&&d.a.use(function(){var e=i()(a.a.mark((function e(t,n){var r,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{(o=(null==t||null===(r=t.req)||void 0===r?void 0:r.params)||{}).url&&/\/\/(login|passport).aliexpress.(com|ru)/.test(o.url)&&!o.xsrfCookieName&&(t.req.params.xsrfCookieName="---")}catch(e){}return e.next=3,n();case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());t.default=function(e){return s.a.createElement(l.a,e)}},function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),i=new k(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return C()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var u=b(i,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var l={};function f(){}function d(){}function p(){}var m={};m[a]=function(){return this};var h=Object.getPrototypeOf,v=h&&h(h(E([])));v&&v!==t&&n.call(v,a)&&(m=v);var g=p.prototype=f.prototype=Object.create(m);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var r;this._invoke=function(a,o){function i(){return new t((function(r,i){!function r(a,o,i,u){var s=c(e[a],e,o);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,i,u)}),(function(e){r("throw",e,i,u)})):t.resolve(f).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,u)}))}u(s.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function E(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:C}}function C(){return{value:void 0,done:!0}}return d.prototype=g.constructor=p,p.constructor=d,d.displayName=u(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},_(y.prototype),y.prototype[o]=function(){return this},e.AsyncIterator=y,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new y(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(g),u(g,i,"Generator"),g[a]=function(){return this},g.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=E,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(u&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;x(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}return n}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(17)),o=r(n(18)),i=r(n(26)),u=n(27),s=new(function(){function e(){(0,a.default)(this,e),this.keywordsSize=8,this.productsSize=8,this.groups={},this.refresh()}return(0,o.default)(e,[{key:"getKeywords",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.groups||!this.groups.keywords)return[];var t=e.limit||0,n=this._sliceArray(this.groups.keywords,t).slice(0);return n}},{key:"getProducts",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.groups||!this.groups.product_selloffer)return[];for(var t=e.limit||0,n=this._sliceArray(this.groups.product_selloffer,t),r=[],a=0,o=n.length;a<o;a++){var i=n[a].replace(/^http(s)?:\/\/.*\/(\d+_)?|\.html.*$/gi,"");/^\d+$/.test(i)&&r.push(i)}return r}},{key:"logProduct",value:function(e){if(e&&e.id){var t=this._addItem({array:this.getProducts(),item:e.id,maxSize:this.productsSize}),n=this._buildWholeCookie({keywordArray:this.getKeywords(),productArray:t});i.default.set("aep_history",n,{domain:(0,u.getFixedDomainUrl)(),path:"/",expires:365}),this.refresh()}}},{key:"refresh",value:function(){this.groups=this._parseGroups()}},{key:"_buildWholeCookie",value:function(e){var t=e.keywordArray||[],n=e.productArray||[];return this._buildGroup({group:"keywords",array:t.reverse()})+"\n\n"+this._buildGroup({group:"product_selloffer",array:n.reverse()})}},{key:"_buildGroup",value:function(e){var t=e.group||"",n=e.array||[];return!t||t.length<=0?"":t+"^\n"+t+"\t"+n.join("\t")}},{key:"_addItem",value:function(e){var t=e.array||[],n=e.item||"",r=e.maxSize||"";if(!n||n.length<=0)return t;var a=t.slice(0);return a=a.reverse(),this._appendToArray(n,a),a=a.reverse().splice(0,r)}},{key:"_appendToArray",value:function(e,t){if(Array.isArray(t)){var n=t.indexOf(e);n>=0&&t.splice(n,1),t.push(e)}}},{key:"_sliceArray",value:function(e,t){return t>0?e.splice(0,t):e}},{key:"_parseGroups",value:function(){var e={},t=i.default.get("aep_history",{domain:(0,u.getFixedDomainUrl)(),path:"/"});if(t)for(var n=t.split("\n\n"),r=0,a=n.length;r<a;r++){var o=n[r].split("^\n"),s=o[0],c=o[1],l=this._parseGroupContent(s,c);e[s]=l}return e}},{key:"_parseGroupContent",value:function(e,t){if(!t||0===t.length)return[];var n=t.indexOf(e);n>=0&&(t=t.substring(n+e.length+"\t".length));var r=t.split("\t");return r=r.reverse(),r=this._uniqueArray(r)}},{key:"_uniqueArray",value:function(e){for(var t=e,n=1;n<t.length;n++)t[n]===t[n-1]&&t.splice(n--,1);return t}}]),e}());t.default=s},function(e,t,n){"use strict";var r=n(4).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(49);var a=r(n(1)),o=function(e){var t=e.activityKey,n=e.showTab,r=void 0===n||n,o=e.onChange,i=e.children,u=(0,a.useRef)([]);-1===u.current.indexOf(t)&&u.current.push(t);return a.default.createElement(a.default.Fragment,null,r&&a.default.createElement("ul",{className:"fm-tabs-bar"},a.default.Children.map(i,(function(e){var n={key:e.key,title:e.props.title};return a.default.createElement("li",{key:n.key,className:"fm-tabs-tab".concat(t===n.key?" active":""),onClick:function(){!function(e){var n=e.key;e.title;t!==n&&o(n)}(n)}},e.props.title)}))),a.default.createElement("div",{className:"fm-tabs-content"},a.default.Children.map(i,(function(e){var n=e.key;return-1===u.current.indexOf(n)?null:a.default.createElement("div",{key:n,className:"fm-tabs-panel".concat(t!==n?" hidden":"")},e.props.children)}))))};o.Item=function(e){e.key,e.title,e.children;return null};var i=o;t.default=i},function(e,t,n){},function(e,t,n){"use strict";var r=n(0).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){(0,a.useEffect)((function(){if(o.default.isLoggedIn()||"dialog"===n)(0,i.initAwsc)(e,t);else{var r=function n(){(0,i.initAwsc)(e,t),document.removeEventListener("mousemove",n),document.removeEventListener("touchmove",n),document.removeEventListener("keydown",n)};document.addEventListener("mousemove",r),document.addEventListener("touchmove",r),document.addEventListener("keydown",r)}}),[])};var a=n(1),o=r(n(10)),i=n(19)},function(e,t,n){"use strict";var r=n(4).default,a=n(0).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(6));n(52);var i=r(n(1)),u=n(11),s=n(2),c=a(n(64)),l=a(n(73)),f=n(3),d=function(e){var t=e.params,n=e.afterLogin,r=(0,s.useData)(),a=(0,i.useReducer)(u.reducer,r,u.initState),d=(0,o.default)(a,2),p=d[0],m=d[1],h=(0,i.useRef)(!1),v=p.view;return(0,i.useEffect)((function(){f.events.emit("login/show_view_".concat(v))}),[v]),(0,i.useEffect)((function(){if(!h.current){var e=r.signed;void 0!==e&&(h.current=!0),"hasLogin"!==v&&!0===e&&m({type:"change-view",view:"hasLogin"})}}),[r]),i.default.createElement(u.Context.Provider,{value:m},i.default.createElement("div",{className:"fm-login nc-outer-box"},"hasLogin"===v?i.default.createElement(c.default,Object.assign({},p,{params:t,afterLogin:n})):i.default.createElement(l.default,Object.assign({key:v,params:t},p,{afterLogin:n}))))};t.default=d},function(e,t,n){},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";var r=n(0).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,o.getData)().rsa,n=t.rsaModulus,r=t.rsaExponent,i=new a.default;return i.setPublic(n,r),i.encrypt(e)};var a=r(n(55)),o=n(2)},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;function a(e,t,n){null!=e&&("number"==typeof e?this.fromNumber(e,t,n):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function o(){return new a(null)}"Microsoft Internet Explorer"==navigator.appName?(a.prototype.am=function(e,t,n,r,a,o){for(var i=32767&t,u=t>>15;--o>=0;){var s=32767&this[e],c=this[e++]>>15,l=u*s+c*i;a=((s=i*s+((32767&l)<<15)+n[r]+(1073741823&a))>>>30)+(l>>>15)+u*c+(a>>>30),n[r++]=1073741823&s}return a},r=30):"Netscape"!=navigator.appName?(a.prototype.am=function(e,t,n,r,a,o){for(;--o>=0;){var i=t*this[e++]+n[r]+a;a=Math.floor(i/67108864),n[r++]=67108863&i}return a},r=26):(a.prototype.am=function(e,t,n,r,a,o){for(var i=16383&t,u=t>>14;--o>=0;){var s=16383&this[e],c=this[e++]>>14,l=u*s+c*i;a=((s=i*s+((16383&l)<<14)+n[r]+a)>>28)+(l>>14)+u*c,n[r++]=268435455&s}return a},r=28),a.prototype.DB=r,a.prototype.DM=(1<<r)-1,a.prototype.DV=1<<r;a.prototype.FV=Math.pow(2,52),a.prototype.F1=52-r,a.prototype.F2=2*r-52;var i,u,s=new Array;for(i="0".charCodeAt(0),u=0;u<=9;++u)s[i++]=u;for(i="a".charCodeAt(0),u=10;u<36;++u)s[i++]=u;for(i="A".charCodeAt(0),u=10;u<36;++u)s[i++]=u;function c(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function l(e,t){var n=s[e.charCodeAt(t)];return null==n?-1:n}function f(e){var t=o();return t.fromInt(e),t}function d(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function p(e){this.m=e}function m(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function h(){this.i=0,this.j=0,this.S=new Array}p.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},p.prototype.revert=function(e){return e},p.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},p.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},p.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},m.prototype.convert=function(e){var t=o();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(a.ZERO)>0&&this.m.subTo(t,t),t},m.prototype.revert=function(e){var t=o();return e.copyTo(t),this.reduce(t),t},m.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},m.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},m.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},a.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},a.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},a.prototype.fromString=function(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(256==t)n=8;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)return void this.fromRadix(e,t);n=2}this.t=0,this.s=0;for(var r=e.length,o=!1,i=0;--r>=0;){var u=8==n?255&e[r]:l(e,r);u<0?"-"==e.charAt(r)&&(o=!0):(o=!1,0==i?this[this.t++]=u:i+n>this.DB?(this[this.t-1]|=(u&(1<<this.DB-i)-1)<<i,this[this.t++]=u>>this.DB-i):this[this.t-1]|=u<<i,(i+=n)>=this.DB&&(i-=this.DB))}8==n&&0!=(128&e[0])&&(this.s=-1,i>0&&(this[this.t-1]|=(1<<this.DB-i)-1<<i)),this.clamp(),o&&a.ZERO.subTo(this,this)},a.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},a.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},a.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},a.prototype.lShiftTo=function(e,t){var n,r=e%this.DB,a=this.DB-r,o=(1<<a)-1,i=Math.floor(e/this.DB),u=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t[n+i+1]=this[n]>>a|u,u=(this[n]&o)<<r;for(n=i-1;n>=0;--n)t[n]=0;t[i]=u,t.t=this.t+i+1,t.s=this.s,t.clamp()},a.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var r=e%this.DB,a=this.DB-r,o=(1<<r)-1;t[0]=this[n]>>r;for(var i=n+1;i<this.t;++i)t[i-n-1]|=(this[i]&o)<<a,t[i-n]=this[i]>>r;r>0&&(t[this.t-n-1]|=(this.s&o)<<a),t.t=this.t-n,t.clamp()}},a.prototype.subTo=function(e,t){for(var n=0,r=0,a=Math.min(e.t,this.t);n<a;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()},a.prototype.multiplyTo=function(e,t){var n=this.abs(),r=e.abs(),o=n.t;for(t.t=o+r.t;--o>=0;)t[o]=0;for(o=0;o<r.t;++o)t[o+n.t]=n.am(0,r[o],t,o,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&a.ZERO.subTo(t,t)},a.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},a.prototype.divRemTo=function(e,t,n){var r=e.abs();if(!(r.t<=0)){var i=this.abs();if(i.t<r.t)return null!=t&&t.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=o());var u=o(),s=this.s,c=e.s,l=this.DB-d(r[r.t-1]);l>0?(r.lShiftTo(l,u),i.lShiftTo(l,n)):(r.copyTo(u),i.copyTo(n));var f=u.t,p=u[f-1];if(0!=p){var m=p*(1<<this.F1)+(f>1?u[f-2]>>this.F2:0),h=this.FV/m,v=(1<<this.F1)/m,g=1<<this.F2,_=n.t,y=_-f,b=null==t?o():t;for(u.dlShiftTo(y,b),n.compareTo(b)>=0&&(n[n.t++]=1,n.subTo(b,n)),a.ONE.dlShiftTo(f,b),b.subTo(u,u);u.t<f;)u[u.t++]=0;for(;--y>=0;){var w=n[--_]==p?this.DM:Math.floor(n[_]*h+(n[_-1]+g)*v);if((n[_]+=u.am(0,w,n,y,0,f))<w)for(u.dlShiftTo(y,b),n.subTo(b,n);n[_]<--w;)n.subTo(b,n)}null!=t&&(n.drShiftTo(f,t),s!=c&&a.ZERO.subTo(t,t)),n.t=f,n.clamp(),l>0&&n.rShiftTo(l,n),s<0&&a.ZERO.subTo(n,n)}}},a.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},a.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},a.prototype.exp=function(e,t){if(e>4294967295||e<1)return a.ONE;var n=o(),r=o(),i=t.convert(this),u=d(e)-1;for(i.copyTo(n);--u>=0;)if(t.sqrTo(n,r),(e&1<<u)>0)t.mulTo(r,i,n);else{var s=n;n=r,r=s}return t.revert(n)},a.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var n,r=(1<<t)-1,a=!1,o="",i=this.t,u=this.DB-i*this.DB%t;if(i-- >0)for(u<this.DB&&(n=this[i]>>u)>0&&(a=!0,o=c(n));i>=0;)u<t?(n=(this[i]&(1<<u)-1)<<t-u,n|=this[--i]>>(u+=this.DB-t)):(n=this[i]>>(u-=t)&r,u<=0&&(u+=this.DB,--i)),n>0&&(a=!0),a&&(o+=c(n));return a?o:"0"},a.prototype.negate=function(){var e=o();return a.ZERO.subTo(this,e),e},a.prototype.abs=function(){return this.s<0?this.negate():this},a.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},a.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+d(this[this.t-1]^this.s&this.DM)},a.prototype.mod=function(e){var t=o();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(a.ZERO)>0&&e.subTo(t,t),t},a.prototype.modPowInt=function(e,t){var n;return n=e<256||t.isEven()?new p(t):new m(t),this.exp(e,n)},a.ZERO=f(0),a.ONE=f(1),h.prototype.init=function(e){var t,n,r;for(t=0;t<256;++t)this.S[t]=t;for(n=0,t=0;t<256;++t)n=n+this.S[t]+e[t%e.length]&255,r=this.S[t],this.S[t]=this.S[n],this.S[n]=r;this.i=0,this.j=0},h.prototype.next=function(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]};var v,g,_;function y(){var e;e=(new Date).getTime(),g[_++]^=255&e,g[_++]^=e>>8&255,g[_++]^=e>>16&255,g[_++]^=e>>24&255,_>=256&&(_-=256)}if(null==g){var b;if(g=new Array,_=0,window.crypto&&window.crypto.getRandomValues){var w=new Uint8Array(32);for(window.crypto.getRandomValues(w),b=0;b<32;++b)g[_++]=w[b]}if("Netscape"==navigator.appName&&navigator.appVersion<"5"&&window.crypto&&window.crypto.random){var x=window.crypto.random(32);for(b=0;b<x.length;++b)g[_++]=255&x.charCodeAt(b)}for(;_<256;)b=Math.floor(65536*Math.random()),g[_++]=b>>>8,g[_++]=255&b;_=0,y()}function k(){if(null==v){for(y(),(v=new h).init(g),_=0;_<g.length;++_)g[_]=0;_=0}return v.next()}function E(){}function C(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}E.prototype.nextBytes=function(e){var t;for(t=0;t<e.length;++t)e[t]=k()},C.prototype.doPublic=function(e){return e.modPowInt(this.e,this.n)},C.prototype.setPublic=function(e,t){null!=e&&null!=t&&e.length>0&&t.length>0?(this.n=new a(e,16),this.e=parseInt(t,16)):alert("Invalid RSA public key")},C.prototype.encrypt=function(e){var t=function(e,t){if(t<e.length+11)return alert("Message too long for RSA"),null;for(var n=new Array,r=e.length-1;r>=0&&t>0;){var o=e.charCodeAt(r--);o<128?n[--t]=o:o>127&&o<2048?(n[--t]=63&o|128,n[--t]=o>>6|192):(n[--t]=63&o|128,n[--t]=o>>6&63|128,n[--t]=o>>12|224)}n[--t]=0;for(var i=new E,u=new Array;t>2;){for(u[0]=0;0==u[0];)i.nextBytes(u);n[--t]=u[0]}return n[--t]=2,n[--t]=0,new a(n)}(e,this.n.bitLength()+7>>3);if(null==t)return null;var n=this.doPublic(t);if(null==n)return null;var r=n.toString(16);return 0==(1&r.length)?r:"0"+r};var j=C;t.default=j},function(e,t,n){"use strict";var r=n(0).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.iframeRedirectUrl;if(!t||t&&t.toLowerCase().indexOf("javascript:")>=0)return null;return(0,o.open)(a.default.createElement("iframe",{src:t,frameBorder:"none",width:340,height:400}))};var a=r(n(1)),o=n(21)},function(e,t,n){},function(e,t){e.exports=window.ReactDOM},function(e,t,n){"use strict";var r=n(0).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return c.apply(this,arguments)};var a=r(n(5)),o=r(n(7)),i=r(n(8));function u(){return s.apply(this,arguments)}function s(){return(s=(0,o.default)(a.default.mark((function e(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.default)({url:"https://assets.alicdn.com/g/sd/ncpc/nc.js",type:"script"}).then((function(){return window.noCaptcha})).catch((function(e){})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(){return(c=(0,o.default)(a.default.mark((function e(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.noCaptcha){e.next=4;break}return e.abrupt("return",window.noCaptcha);case 4:return e.next=6,u();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){null==r&&(r=/(iPhone|Android)/i.test(navigator.userAgent));return r}},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.isUseNewSmartlockApi=function(){var e=navigator.userAgent,t=!!e&&e.match(/Chrom(e|ium)\/([0-9]+)\./);return+(!!t&&parseInt(t[2],10))>=64},t.default=function(){if(void 0===r)if(navigator.credentials&&"https:"===window.location.protocol){var e=navigator.userAgent,t=e.match(/Chrom(e|ium)\/([0-9]+)\./);+(!!t&&parseInt(t[2],10))>=51&&(/android/i.test(e)||"pc"===function(e){var t="portrait";"number"==typeof window.orientation?90!==window.orientation&&-90!==window.orientation||(t="landscape"):window.matchMedia("(orientation: portrait)").matches?t="portrait":window.matchMedia("(orientation: landscape)").matches&&(t="landscape");var n="portrait"===t?window.screen.width:window.screen.height;return/windows\s(?!phone)|macintosh/i.test(e)?"pc":n<640?"mobile":n>=640?"tablet":"unknown"}(e))&&(r=!0)}else r=!1;return r}},function(e,t,n){"use strict";var r=n(0).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){null==a&&(a=o.default.getLocale()||"en_US");return a};var a,o=r(n(10))},function(e,t,n){"use strict";var r=n(0).default;Object.defineProperty(t,"__esModule",{value:!0}),t.useData=t.DataContext=t.useDispatch=t.DispatchContext=t.reducer=t.initState=void 0;var a=r(n(9)),o=n(1);t.initState=function(e){return{showTab:!0,tab:e.tab,showSns:!0,agreeTerms:!1}};t.reducer=function(e,t){switch(t.type){case"change-tab":return(0,a.default)((0,a.default)({},e),{},{tab:t.tab});case"show-tab":return(0,a.default)((0,a.default)({},e),{},{showTab:!0});case"hide-tab":return(0,a.default)((0,a.default)({},e),{},{showTab:!1});case"show-sns":return(0,a.default)((0,a.default)({},e),{},{showSns:!0});case"hide-sns":return(0,a.default)((0,a.default)({},e),{},{showSns:!1});case"agree-terms":return(0,a.default)((0,a.default)({},e),{},{agreeTerms:!0});default:return e}};var i=(0,o.createContext)((function(){}));t.DispatchContext=i;t.useDispatch=function(){return(0,o.useContext)(i)};var u=(0,o.createContext)({});t.DataContext=u;t.useData=function(){return(0,o.useContext)(u)}},function(e,t,n){"use strict";var r=n(0).default,a=n(4).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(65);var o=a(n(1)),i=r(n(10)),u=r(n(30)),s=a(n(15)),c=r(n(72)),l=n(2),f=function(e){var t=e.params,n=(e.view,e.errorTip),r=e.afterLogin,a=(0,s.useCheckcode)({id:"login-check-code",type:"login"}),f=a.checkcode,d=a.actions,p=function(){return i.default.getLoginId()},m={getLoginId:p},h=(0,c.default)({params:t,afterLogin:r,accountActions:m,checkcodeActions:d}),v=h.isSubmit,g=h.onSubmit,_=h.changeView;return o.default.createElement("div",{className:"fm-logined"},o.default.createElement("div",{className:"fm-logined-title"},l.i18n["view-login-haslogin-title"]),o.default.createElement("p",{className:"fm-logined-name"},p()),o.default.createElement("button",{className:"fm-button",type:"submit",onClick:g},v?l.i18n["view-haslogin-button-loging-button-text"]:l.i18n["view-haslogin-button-login-button-text"]),o.default.createElement("p",{className:"fm-logined-other"},o.default.createElement("a",{className:"fm-link",onClick:_},l.i18n["view-login-haslogin-other-account"])),o.default.createElement(s.default,{checkcode:f,actions:d}),o.default.createElement(u.default,{errorTip:n}))},d=(0,o.memo)(f);t.default=d},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r=n(0).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(68);var a=r(n(1)),o=function(){return a.default.createElement("svg",{className:"fm-icon fm-icon-warn",viewBox:"0 0 1060 720"},a.default.createElement("path",{d:"M512 896a512 512 0 1 1 0-1024A512 512 0 0 1 512 896zM448 703.808h128.128v-448H448v448zM448 128c0 35.328 28.416 64 64 64 35.328 0 64-28.416 64-64 0-35.328-28.416-64-64-64-35.328 0-64 28.416-64 64z"}))};t.default=o},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r=n(0).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(5)),o=r(n(9)),i=r(n(7)),u=r(n(6)),s=n(1),c=n(3),l=n(2),f=function(e){var t=e.id,n=e.type,r=(0,s.useState)({loading:!1,show:!1,errorTip:""}),f=(0,u.default)(r,2),d=f[0],p=f[1],m=(0,s.useRef)(null),h=(0,s.useRef)(),v=(0,s.useCallback)((0,i.default)(a.default.mark((function e(){var r,i,u,s;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p((function(e){return(0,o.default)((0,o.default)({},e),{},{errorTip:"",loading:!0})})),e.next=3,(0,c.getNoCaptcha)();case 3:if(r=e.sent,p((function(e){return(0,o.default)((0,o.default)({},e),{},{loading:!1})})),r){e.next=9;break}return w(l.i18n.UNAVIALABLE_SERVICE),c.events.emit("captcha/init_error"),e.abrupt("return");case 9:"login"===n?(u=(0,l.getData)(),s=u.nocaptchaAppKey,i={renderTo:"#".concat(t),appkey:s,token:[s,(new Date).getTime(),Math.random()].join(":"),elementID:["fm-login-id"],language:l.env.locale,isEnabled:!0,is_tbLogin:!0,trans:{isMobile:l.env.isMobile},times:3,initHidden:!0,bannerHidden:!1,foreign:"1"}):i={renderTo:"#".concat(t),appkey:d.appkey,token:d.token,scene:l.env.isMobile?"register_h5":"register",language:"cn"},m.current=new r((0,o.default)((0,o.default)({},i),{},{callback:function(e){j.onComplete({token:i.token,nocAppKey:i.appkey,sig:e.sig,csessionid:e.csessionid}),c.events.emit("captcha/validate_success")},error:function(){c.events.emit("captcha/validate_error")}})),m.current.upLang("cn",{_startTEXT:l.i18n.SLIDE_SUBMIT,_yesTEXT:l.i18n.SLIDE_SUBMIT_TIPS,_error300:'<a href="javascript:__nc.reset()">Refresh</a>',_errorNetwork:'<a href="javascript:__nc.reset()">Refresh</a>',_Loading:l.i18n.LOADING}),m.current.show(),m.current.reload(),x(m.current);case 15:case"end":return e.stop()}}),e)}))),[d.appkey,d.token]),g=(0,s.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.appkey,n=void 0===t?"":t,r=e.token,a=void 0===r?"":r;c.events.emit("capche/show"),y(),p((function(e){var t=(0,o.default)((0,o.default)({},e),{},{show:!0});return n&&(t.appkey=n),a&&(t.token=a),t}))}),[]),_=(0,s.useCallback)((function(){h.current=null}),[]),y=(0,s.useCallback)((function(){h.current=null;var e=m.current;e&&e.reload()}),[]),b=(0,s.useCallback)((function(){p((function(e){return(0,o.default)((0,o.default)({},e),{},{show:!1})}))}),[]),w=(0,s.useCallback)((function(e){p((function(t){return(0,o.default)((0,o.default)({},t),{},{errorTip:e})}))}),[]),x=(0,s.useCallback)((function(e){m.current=e}),[]),k=(0,s.useCallback)((function(e){h.current=e,p((function(e){return(0,o.default)((0,o.default)({},e),{},{errorTip:""})}))}),[]),E=(0,s.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.showError,n=void 0===t||t;return!d.show||(m.current?h.current?(n&&w(""),!0):(n&&w(l.i18n.SLIDE_SUBMIT_ERROR_TIPS),!1):void v())}),[d.show]),C=(0,s.useCallback)((function(){return h.current||{}}),[]),j=(0,s.useMemo)((function(){return{id:t,init:v,show:g,clear:_,reload:y,hide:b,onInit:x,onComplete:k,validate:E,getData:C,showErrorTip:w}}),[d.show,d.appkey,d.token]);return{checkcode:d,ncRef:m,dataRef:h,actions:j}};t.default=f},function(e,t,n){"use strict";var r=n(0).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(5)),o=r(n(9)),i=r(n(7)),u=r(n(6)),s=n(1),c=r(n(8)),l=n(3),f=r(n(31)),d=n(2),p=n(11),m=function(e){var t=e.params,n=e.afterLogin,r=e.accountActions,m=e.checkcodeActions,h=(0,p.useDispatch)(),v=(0,d.useData)(),g=v.api,_=v.loginFormData,y=v.joinTheme,b=v.signed,w=v.loginTheme,x=(0,s.useState)(!1),k=(0,u.default)(x,2),E=k[0],C=k[1],j=(0,f.default)({params:t,afterLogin:n,accountActions:r,checkcodeActions:m}),S=(0,s.useCallback)((0,i.default)(a.default.mark((function e(){var t,n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==b){e.next=3;break}return h({type:"change-view",view:"PHONE_FIRST"===y?"mobilePassword":"password"}),e.abrupt("return");case 3:if(!E){e.next=5;break}return e.abrupt("return");case 5:return C(!0),e.t0=o.default,e.t1=(0,o.default)({},_),e.t2={},e.next=11,l.awsc.getUmidToken();case 11:return e.t3=e.sent,e.t4={umidToken:e.t3},t=(0,e.t0)(e.t1,e.t2,e.t4),e.next=16,(0,c.default)({url:g.hasLoginApi,method:"post",withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},data:t}).then((function(e){var t=e.content.data;if(t.resultCode&&100===t.resultCode)return t})).catch((function(e){}));case 16:if(n=e.sent,C(!1),!n.titleMsg||100!==n.resultCode){e.next=21;break}return D(),e.abrupt("return");case 21:j.handleResult(n,{loginType:"hasLogin"});case 22:case"end":return e.stop()}}),e)}))),[b]),D=(0,s.useCallback)((function(){h({type:"change-view",view:"PHONE_FIRST"===w?"mobilePassword":"password"})}),[]);return{isSubmit:E,onSubmit:S,changeView:D}};t.default=m},function(e,t,n){"use strict";var r=n(0).default,a=n(4).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(1)),i=r(n(30)),u=a(n(22)),s=a(n(15)),c=r(n(14)),l=r(n(33)),f=r(n(84)),d=r(n(85)),p=r(n(86)),m=r(n(32)),h=r(n(31)),v=n(2),g=n(11),_=function(e){var t,n=e.params,r=e.errorTip,a=e.view,_=e.afterLogin,y=(0,v.getData)(),b=y.api,w=y.showLoginSwitch,x=(0,g.useDispatch)(),k="mobilePassword"===a,E=(0,s.useCheckcode)({id:"login-check-code",type:"login"}),C=E.checkcode,j=E.actions,S=(0,u.useBaxia)({id:"login-check-code"}),D=(0,d.default)({showMobileLogin:k,checkcodeActions:j}),T=D.checkLoading,O=D.accountRef,P=D.selectedCountry,A=D.actions,I=(0,f.default)(),N=I.passwordRef,M=I.actions,L=(0,h.default)({params:n,afterLogin:_,accountActions:A,passwordActions:M,checkcodeActions:j}),R=(0,p.default)({showMobileLogin:k,loginActions:L,accountActions:A,passwordActions:M,checkcodeActions:j,baxiaActions:S}),F=R.isSubmit,U=R.onSubmit;(0,m.default)({loginActions:L});var V=(0,o.useCallback)((function(){x({type:"change-view",view:k?"password":"mobilePassword"})}),[k]);return o.default.createElement(o.default.Fragment,null,w&&o.default.createElement("div",{className:"fm-switch"},o.default.createElement("a",{className:"fm-switch-action",onClick:V},k?v.i18n.SIGN_IN_EMAIL:v.i18n.SIGN_IN_PHONE)),o.default.createElement("div",{className:"fm-field"},o.default.createElement(c.default,{overlay:!0,loading:T}),k?o.default.createElement(l.default,{id:"fm-login-id",name:"fm-login-id-mobile",placeholder:v.i18n.PHONE_NUMBER,accountRef:O,selectStyle:v.env.countryAreaSelectSelectStyle,countryList:null===(t=(0,v.getData)().countryAreaConfig)||void 0===t?void 0:t.countryList,onFocus:A.onFocus,onBlur:A.accountCheck,selectedCountry:P,onSelectCountry:A.onSelectCountry}):o.default.createElement("input",{className:"fm-text",id:"fm-login-id",name:"fm-login-id",type:"text","aria-label":v.i18n["view-login-form-loginid-placeholder"],placeholder:v.i18n["view-login-form-loginid-placeholder"],autoCapitalize:"off",ref:O,onFocus:A.onFocus,onBlur:A.accountCheck})),o.default.createElement("div",{className:"fm-field"},o.default.createElement("input",{className:"fm-text",type:"password",id:"fm-login-password",name:"fm-login-password",ref:N,"aria-label":v.i18n["view-login-form-password-placeholder"],placeholder:v.i18n["view-login-form-password-placeholder"],autoCapitalize:"off",autoComplete:k?"new-password":void 0,"max-length":"40"})),o.default.createElement(s.default,{checkcode:C,actions:j}),o.default.createElement(u.default,S),o.default.createElement("button",{className:"fm-button",type:"submit",onClick:U},F?v.i18n["view-login-button-loging-button-text"]:v.i18n["view-login-button-login-button-text"]),o.default.createElement("a",{className:"fm-forget",href:b.forgetUrl,target:"_blank"},v.i18n.FORGET_PASSWORD),o.default.createElement(i.default,{errorTip:r}))},y=(0,o.memo)(_);t.default=y},function(e,t,n){},function(e,t,n){"use strict";var r=n(0).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(5)),o=r(n(76)),i=r(n(7)),u=r(n(6)),s=n(1),c=r(n(10)),l=n(3),f=n(2),d=function(e){var t,n=e.id,r=(0,s.useState)(!0),d=(0,u.default)(r,2),p=d[0],m=d[1];if("true"!==(null===(t=(0,f.getData)())||void 0===t?void 0:t.useBaxiaNc))return{bxValid:p};var h="baxia-".concat(n||""),v=(0,s.useCallback)((function(){m(!1)}),[]),g=(0,s.useCallback)((function(){m(!0)}),[]),_=(0,s.useCallback)((0,i.default)(a.default.mark((function e(){var t,n,r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=["newlogin/login.do","newlogin/account/check.do","join/preCheckForRegister.htm","join/PreCheckForPhoneRegister.htm"],e.next=3,l.awsc.getBaxia();case 3:if(n=e.sent){e.next=6;break}return e.abrupt("return",{bxValid:p});case 6:"iw_IL"===(r=c.default.getLocale()||"en_US")?r="iw_HE":"ar_MA"===r?r="ar_SA":"zh_CN"===r&&(r="en_US"),n.init({renderTo:document.getElementById(h),addVersionToUrl:!0,ncLanguage:r,checkApiPath:function(e){var n,r=(0,o.default)(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(e.indexOf(a)>-1)return!0}}catch(e){r.e(e)}finally{r.f()}return!1},showCallback:v,hideCallback:g});case 9:case"end":return e.stop()}}),e)}))),[]);return{bxId:h,bxValid:p,bxInit:_,bxTip:null===f.i18n||void 0===f.i18n?void 0:f.i18n["error-login-nocaptcha-empty"]}};t.default=d},function(e,t,n){var r=n(25);e.exports=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,i=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw i}}}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";var r=n(0).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(0,r(n(78)).default)("icon-icArrowDown",'<svg><symbol id="icon-icArrowDown" viewBox="0 0 1024 1024"><path d="M517.056 630.826667l296.661333-316.437334 46.677334 43.776-320 341.333334a32 32 0 0 1-46.677334 0l-320-341.333334 46.677334-43.776L517.056 630.826667z"  ></path></symbol></svg>');t.default=a},function(e,t,n){"use strict";var r=n(0).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(9)),o=r(n(28)),i=r(n(13)),u=r(n(1)),s=r(n(79));n(80);var c,l=[],f={},d=function(e){var t=p.rootFontSize;return t?e/t+"rem":e+"px"},p=function(e,t){if(!f[e]){if(!c){var n=document.getElementById("iconfont-svg-group");if(n)c=n;else{(c=document.createElement("svg")).id="iconfont-svg-group",c.setAttribute("aria-hidden","true"),c.style.position="absolute",c.style.width="0",c.style.height="0",c.style.overflow="hidden",document.body.appendChild(c);var r=document.body.firstChild;r?r.parentNode.insertBefore(c,r):document.body.appendChild(c)}}var p=document.createElement("div");p.innerHTML=t;var m=p.getElementsByTagName("symbol")[0];f[e]=!0,l.push(m)}return function(t){var n=t.size,r=t.color,f=t.style,p=t.className,m=(0,i.default)(t,["size","color","style","className"]);!function(){if(l.length){var e=document.createDocumentFragment();l.forEach((function(t){e.appendChild(t)})),c&&c.appendChild(e),l.length=0}}();var h={};return"number"==typeof n&&(h.fontSize=d(n)),r&&(h.color=r),u.default.createElement("svg",Object.assign({className:(0,s.default)("icon-svg",(0,o.default)({},"icon-svg-".concat(n),"string"==typeof n),p),style:(0,a.default)((0,a.default)({},h),f)},m),u.default.createElement("use",{xlinkHref:"#".concat(e)}))}};p.rootFontSize=null;var m=p;t.default=m},function(e,t,n){
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var t={}.hasOwnProperty;function n(){for(var e=[],r=0;r<arguments.length;r++){var a=arguments[r];if(a){var o=typeof a;if("string"===o||"number"===o)e.push(a);else if(Array.isArray(a)&&a.length){var i=n.apply(null,a);i&&e.push(i)}else if("object"===o)for(var u in a)t.call(a,u)&&a[u]&&e.push(u)}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("classnames",[],(function(){return n})):window.classNames=n}()},function(e,t,n){"use strict";n(81)},function(e,t,n){},function(e,t,n){"use strict";var r=n(0).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(83);var a=r(n(1)),o=function(e){var t=e.country,n=void 0===t?"":t;return a.default.createElement("span",{className:"css_flag css_".concat(n.toLowerCase())})};t.default=o},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(1),a=n(11),o=n(2),i=function(){var e=(0,a.useDispatch)(),t=(0,r.useRef)(null),n=(0,r.useCallback)((function(){var e;return(null===(e=t.current)||void 0===e?void 0:e.value)||""}),[]),i=(0,r.useCallback)((function(){var e;null===(e=t.current)||void 0===e||e.focus()}),[]),u=(0,r.useCallback)((function(){return""!==n().trim()||(e({type:"show-error",errorTip:o.i18n["error-fm-login-password-empty"]}),i(),!1)}),[]);return{passwordRef:t,actions:{getPassword:n,focusPassword:i,validate:u}}};t.default=i},function(e,t,n){"use strict";var r=n(0).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(5)),o=r(n(9)),i=r(n(7)),u=r(n(6)),s=n(1),c=r(n(8)),l=n(3),f=n(2),d=n(11),p=function(e){var t=e.showMobileLogin,n=e.checkcodeActions,r=(0,f.getData)(),p=r.api,m=r.countryAreaConfig,h=r.loginFormData,v=(0,d.useDispatch)(),g=(0,s.useState)(!1),_=(0,u.default)(g,2),y=_[0],b=_[1],w=(0,s.useRef)(null),x=(0,s.useRef)(),k=(0,s.useState)((function(){if(m){var e=m.countryList.filter((function(e){return e.countryCode===m.defaultCountryCode}));return(null==e?void 0:e[0])||{phoneCode:"86",countryCode:"CN"}}})),E=(0,u.default)(k,2),C=E[0],j=E[1],S=(0,s.useCallback)((0,i.default)(a.default.mark((function e(){var t,r,i;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O()){e.next=3;break}return e.abrupt("return");case 3:if(t=P(),x.current!==t){e.next=6;break}return e.abrupt("return");case 6:return x.current=t,b(!0),r=(0,o.default)((0,o.default)({loginId:P(),umidGetStatusVal:window.um?window.um.getStatus(!0):null,screenPixel:window.screen.width+"x"+window.screen.height,navlanguage:navigator.language,navUserAgent:navigator.userAgent,navPlatform:navigator.platform},h),{},{umidToken:l.awsc.umidToken,ua:l.awsc.getUA()}),e.next=11,(0,c.default)({url:p.accountCheckApi,method:"post",withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},data:r}).then((function(e){var t;return null==e||null===(t=e.content)||void 0===t?void 0:t.data})).catch((function(e){}));case 11:if(i=e.sent,b(!1),i){e.next=16;break}return v({type:"show-error",errorTip:f.i18n.FORBID_ACTIVE}),e.abrupt("return");case 16:v({type:"hide-error"}),i.isCheckCodeShowed?n.show():n.hide();case 18:case"end":return e.stop()}}),e)}))),[t,C]),D=(0,s.useCallback)((function(){t?l.events.emit("login/phone_input_focus"):l.events.emit("login/email_input_focus")}),[]),T=(0,s.useCallback)((function(){var e=O();if(""===e.trim()){var n=t?f.i18n.PHONE_NUMBER_EMPTY:f.i18n["error-fm-login-id-empty"];return v({type:"show-error",errorTip:n}),A(),!1}if(t&&C){var r=C.phoneCode,a=C.checkKey;if(a&&!new RegExp(a).test(r+e))return v({type:"show-error",errorTip:f.i18n["view-smslogin-mobile-pattern-error"]}),!1}return!0}),[t,C]),O=(0,s.useCallback)((function(){var e;return(null===(e=w.current)||void 0===e?void 0:e.value)||""}),[]),P=(0,s.useCallback)((function(){var e=O();if(t){var n=null==C?void 0:C.phoneCode;return n&&"86"!==n?"".concat(n,"-").concat(e):e}return e}),[t,C]),A=(0,s.useCallback)((function(){var e;null===(e=w.current)||void 0===e||e.focus()}),[]);return{checkLoading:y,accountRef:w,selectedCountry:C,actions:{accountCheck:S,onFocus:D,validate:T,getLoginId:P,focusLogin:A,onSelectCountry:j}}};t.default=p},function(e,t,n){"use strict";var r=n(0).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(5)),o=r(n(9)),i=r(n(6)),u=r(n(7)),s=n(1),c=r(n(8)),l=n(3),f=n(11),d=n(2),p=function(){var e=(0,u.default)(a.default.mark((function e(t){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.default)({url:(0,d.getData)().api.loginApi,method:"post",withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},data:t}).then((function(e){var t=e.content.data;if(t.resultCode&&100===t.resultCode)return t})).catch((function(e){})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(e){var t=e.showMobileLogin,n=e.loginActions,r=e.accountActions,c=e.passwordActions,m=e.checkcodeActions,h=e.baxiaActions,v=(0,d.getData)().loginFormData,g=(0,f.useDispatch)(),_=(0,s.useState)(!1),y=(0,i.default)(_,2),b=y[0],w=y[1],x=function(){var e=(0,u.default)(a.default.mark((function e(){var t;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=o.default,e.t1=(0,o.default)({loginId:r.getLoginId(),password2:(0,l.rsaPassword)(c.getPassword()),keepLogin:!1,umidGetStatusVal:window.um?window.um.getStatus(!0):null,screenPixel:window.screen.width+"x"+window.screen.height,navlanguage:navigator.language,navUserAgent:navigator.userAgent,navPlatform:navigator.platform},v),e.t2={},e.next=5,l.awsc.getUmidToken();case 5:return e.t3=e.sent,e.t4=l.awsc.getUA(),e.t5={umidToken:e.t3,ua:e.t4},t=(0,e.t0)(e.t1,e.t2,e.t5),Object.assign(t,m.getData()),e.abrupt("return",p(t));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{isSubmit:b,onSubmit:function(){var e=(0,u.default)(a.default.mark((function e(o){var i,u;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i={loginType:t?"mobile":"email"},l.events.emit("login/login",i),o.preventDefault(),!(!r.validate()||!c.validate()||(m.validate({showError:!1})?!h.bxValid:(g({type:"show-error",errorTip:d.i18n["error-login-nocaptcha-empty"]}),1)))){e.next=6;break}return l.events.emit("login/login_validate_fail",i),e.abrupt("return");case 6:if(!b){e.next=8;break}return e.abrupt("return");case 8:return g({type:"hide-error"}),w(!0),l.events.emit("login/signin_validate",i),e.next=13,x();case 13:return u=e.sent,e.next=16,n.handleResult(u,i);case 16:w(!1);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}};t.default=m},function(e,t,n){"use strict";var r=n(4).default,a=n(0).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(6));n(88);var i=r(n(1)),u=a(n(89)),s=a(n(94)),c=a(n(96)),l=a(n(105)),f=n(2),d=n(12),p=a(n(107)),m=a(n(14)),h=n(3),v=function(e){var t=e.params,n=e.afterJoin,r=(0,f.getData)(),a=(0,f.useDispatch)(),v=r.showJoinSwitch,g=(0,i.useReducer)(d.reducer,r,d.initState),_=(0,o.default)(g,2),y=_[0],b=_[1],w=y.view,x=y.loading,k=y.coupon,E="email"!==w,C=(0,i.useCallback)((function(){b({type:"change-view",view:E?"email":"phone"})}),[E]),j=function(e){h.events.emit("join/exist_sign_in"),a({type:"change-tab",tab:"login"}),setTimeout((function(){var t=document.getElementById("fm-login-id");t&&(t.value=e)}),0)};return(0,i.useEffect)((function(){h.events.emit("join/show_view_".concat(w))}),[w]),k?i.default.createElement(l.default,{data:k}):i.default.createElement(d.Context.Provider,{value:b},i.default.createElement("div",{className:"fm-join"},i.default.createElement(m.default,{loading:x},"emailVerification"===w?null:i.default.createElement(u.default,{params:t}),i.default.createElement(s.default,null),"phonePassword"!==w&&"emailVerification"!==w&&v&&i.default.createElement("div",{className:"fm-switch"},i.default.createElement("a",{className:"fm-switch-action",onClick:C},E?f.i18n.REGISTER_EMAIL:f.i18n.REGISTER_SMS)),"email"===w||"emailVerification"===w?i.default.createElement(c.default,{params:t,view:w,onGuideSignIn:j,afterJoin:n}):i.default.createElement(p.default,{params:t,view:w,onGuideSignIn:j,afterJoin:n}))))};t.default=v},function(e,t,n){},function(e,t,n){"use strict";var r=n(4).default,a=n(0).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(6));n(90);var i=r(n(1)),u=a(n(91)),s=n(2),c=function(e){var t=e.params,n=(0,s.useData)(),r=n.loading,a=n.sendCouponConfig,c=void 0===a?{}:a,l=(0,i.useState)(),f=(0,o.default)(l,2),d=f[0],p=f[1];if((0,i.useEffect)((function(){if(t.isSendOtherCoupon){var e,n={appVersion:"300",invitationScenario:null===(e=t.extendUrlSnsParams)||void 0===e?void 0:e.invitationScenario,positionId:"webRegisterPromotionTip"};u.default.request({api:"mtop.aliexpress.usertouch.houyi.launchrule.runtime.pull",v:"1.0",data:n}).then((function(e){var t,n,r,a,o,i;p(null==e||null===(t=e.data)||void 0===t||null===(n=t.activities)||void 0===n||null===(r=n[0])||void 0===r||null===(a=r.positionGroupList)||void 0===a||null===(o=a[0])||void 0===o||null===(i=o.positionList)||void 0===i?void 0:i[0])}),(function(e){}))}}),[]),r)return null;var m,h,v=!1;return t.isSendOtherCoupon&&d?(v=!0,m=d.content.iconUrl,h=d.content.desc):t.isSendCoupon&&c.needSendCoupon&&(v=!0,h=c.sendCouponTip),v?i.default.createElement("div",{className:"fm-benifits"},i.default.createElement("span",{className:"fm-benifits-icon",style:m?{backgroundImage:m}:{}}),i.default.createElement("span",{className:"fm-benifits-desc"},h)):null};t.default=c},function(e,t,n){},function(e,t,n){var r=n(92);function a(e){var t=decodeURI(window.location.href),n=new RegExp("("+e+"=)(.*?)([;&]|$)");return t.match(n)?t.match(n)[2]:""}window.lib&&window.lib.mtop||n(93),e.exports=function(){if(window.lib&&window.lib.mtop){var e={},t="acs";window.location&&-1!=window.location.href.indexOf("_mtopPrev_")&&(-1!=window.location.href.indexOf("_mtopPrev_=_true_")||-1!=window.location.href.indexOf("_mtopPrev_=pre-acs")?t="pre-acs":-1!=window.location.href.indexOf("_mtopPrev_=ru-pre-acs")?t="ru-pre-acs":-1!=window.location.href.indexOf("_mtopPrev_=eu-pre-acs")?t="eu-pre-acs":-1!=window.location.href.indexOf("_mtopPrev_=us-pre-acs")&&(t="us-pre-acs")),window.lib.mtop.config.prefix=t,window.lib.mtop.config.subDomain="",window.lib.mtop.config.H5Request=!0,window.lib.mtop.config.mainDomain=r.isRU()?"aliexpress.ru":"aliexpress.com";var n=a("_projectTag_"),o=a("_dpath_");return e.request=function(e){return e&&!e.appKey&&(e.appKey=24815441),n&&(e.tb_eagleeyex_scm_project=n),o&&(e.tb_eagleeyex_dpath_env=o),lib.mtop.request(e)},e}console.error("window.lib.mtop undefined!")}()},function(e,t,n){"use strict";var r=[{reg:/www.aliexpress.com/,originDomain:"www.aliexpress.com",targetDomain:"www.aliexpress.ru"},{reg:/tmall.aliexpress.com/,originDomain:"tmall.aliexpress.com",targetDomain:"tmall.ru"},{reg:/login.tmall.com/,originDomain:"login.tmall.com",targetDomain:"login.tmall.ru"},{reg:/login.aliexpress.com/,originDomain:"login.aliexpress.com",targetDomain:"login.aliexpress.ru"},{reg:/accounts.tmall.com/,originDomain:"accounts.tmall.com",targetDomain:"accounts.tmall.ru"},{reg:/accounts.aliexpress.com/,originDomain:"accounts.aliexpress.com",targetDomain:"accounts.aliexpress.ru"},{reg:/passport.aliexpress.com/,originDomain:"passport.aliexpress.com",targetDomain:"passport.aliexpress.ru"},{reg:/msg.aliexpress.com/,originDomain:"msg.aliexpress.com",targetDomain:"msg.aliexpress.ru"},{reg:/message.aliexpress.com/,originDomain:"message.aliexpress.com",targetDomain:"message.aliexpress.ru"},{reg:/trade.aliexpress.com/,originDomain:"trade.aliexpress.com",targetDomain:"trade.aliexpress.ru"},{reg:/home.aliexpress.com/,originDomain:"home.aliexpress.com",targetDomain:"home.aliexpress.ru"},{reg:/feedback.aliexpress.com/,originDomain:"feedback.aliexpress.com",targetDomain:"feedback.aliexpress.ru"},{reg:/coupon.aliexpress.com/,originDomain:"coupon.aliexpress.com",targetDomain:"coupon.aliexpress.ru"},{reg:/report.aliexpress.com/,originDomain:"report.aliexpress.com",targetDomain:"report.aliexpress.ru"},{reg:/ilogisticsaddress.aliexpress.com/,originDomain:"ilogisticsaddress.aliexpress.com",targetDomain:"ilogisticsaddress.aliexpress.ru"},{reg:/my.aliexpress.com/,originDomain:"my.aliexpress.com",targetDomain:"my.aliexpress.ru"},{reg:/best.aliexpress.com/,originDomain:"best.aliexpress.com",targetDomain:"best.aliexpress.ru"},{reg:/mbest.aliexpress.com/,originDomain:"mbest.aliexpress.com",targetDomain:"mbest.aliexpress.ru"},{reg:/s.click.aliexpress.com/,originDomain:"s.click.aliexpress.com",targetDomain:"s.click.aliexpress.ru"},{reg:/sale.aliexpress.com/,originDomain:"sale.aliexpress.com",targetDomain:"sale.aliexpress.ru"},{reg:/ilogisticsaddress.tmall.com/,originDomain:"ilogisticsaddress.tmall.com",targetDomain:"ilogisticsaddress.tmall.ru"},{reg:/freight.aliexpress.com/,originDomain:"freight.aliexpress.com",targetDomain:"freight.aliexpress.ru"},{reg:/m.aliexpress.com/,originDomain:"m.aliexpress.com",targetDomain:"m.aliexpress.ru"},{reg:/shoppingcart.aliexpress.com/,originDomain:"shoppingcart.aliexpress.com",targetDomain:"shoppingcart.aliexpress.ru"}],a=[{reg:/gpsfront.aliexpress.com/,originDomain:"aliexpress.com",targetDomain:"aliexpress.ru"},{reg:/cdp.aliexpress.com/,originDomain:"aliexpress.com",targetDomain:"aliexpress.ru"},{reg:/sale.aliexpress.com/,originDomain:"aliexpress.com",targetDomain:"aliexpress.ru"},{reg:/ilogisticsaddress.aliexpress.com/,originDomain:"aliexpress.com",targetDomain:"aliexpress.ru"},{reg:/freight.aliexpress.com/,originDomain:"aliexpress.com",targetDomain:"aliexpress.ru"},{reg:/feedback.aliexpress.com/,originDomain:"aliexpress.com",targetDomain:"aliexpress.ru"},{reg:/ru.aliexpress.com/,originDomain:"ru.aliexpress.com",targetDomain:"aliexpress.ru"},{reg:/my.aliexpress.com\/wishlist/,originDomain:"aliexpress.com",targetDomain:"aliexpress.ru"},{reg:/promotion.aliexpress.com/,originDomain:"aliexpress.com",targetDomain:"aliexpress.ru"},{reg:/connectkeyword.aliexpress.com/,originDomain:"aliexpress.com",targetDomain:"aliexpress.ru"},{reg:/best.aliexpress.com/,originDomain:"aliexpress.com",targetDomain:"aliexpress.ru"}];function o(){return!!/aliexpress.ru/.test(window.location.host)}function i(e,t){for(var n,a=e,i=!1,u=t||r,s=0;s<u.length;s++){if(u[s].reg.test(e)){i=!0,n=u[s];break}}return o()&&i&&(a=function(e,t,n){if("string"!=typeof e)return e;if(-1!==e.split("?")[0].indexOf("aliexpress.ru"))return e;if(-1!==e.split("?")[0].indexOf("pg-ru.aliexpress.com"))return e;var r=new RegExp("(.*?)(".concat(t,")(.*\\?)?(.*)"));return e.replace(r,(function(e,r,a,o,i){return r+(n||t)+(o||"")+i}))}(e,n.originDomain,n.targetDomain)),a}e.exports={switchRequestURL:function(e){return i(e,a)},switchLinkURL:function(e){return i(e)},switchUrl:i,isRU:o}},function(e,t){e.exports=window.lib.mtop},function(e,t,n){"use strict";var r=n(4).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(95);var a=r(n(1)),o=n(2),i=function(){if(!(0,a.useRef)(o.env.isCN).current)return null;var e="https://login.aliexpress.".concat(/.ru$/.test(window.location.host)?"ru":"com","/join/seller/wholesaleJoin.htm");return a.default.createElement("div",{className:"fm-field fm-seller-tip"},a.default.createElement("span",null,"此页面仅限买家注册。"),a.default.createElement("a",{href:e,className:"fm-seller-link"},"点此注册卖家账号"))};t.default=i},function(e,t,n){},function(e,t,n){"use strict";var r=n(4).default,a=n(0).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(6));n(34);var i=r(n(1)),u=r(n(22)),s=r(n(15)),c=a(n(14)),l=a(n(16)),f=a(n(98)),d=a(n(35)),p=a(n(36)),m=n(2),h=r(n(37)),v=a(n(101)),g=n(102),_=a(n(103)),y=function(e){var t=e.params,n=e.view,r=e.onGuideSignIn,a=e.afterJoin,y=(0,m.getData)(),b=y.popularEmailSuffixes,w=void 0===b?[]:b,x=y.abt,k=(0,g.checkNeedVerification)(x);k&&Object.assign(t,{registerAction:"buyerJoin/email_register_action"});var E=(0,i.useState)(""),C=(0,o.default)(E,2),j=C[0],S=C[1],D=(0,s.useCheckcode)({id:"join-check-code",type:"join"}),T=D.checkcode,O=D.actions,P=(0,u.useBaxia)({id:"join-check-code"}),A=(0,f.default)({params:t,checkcodeActions:O,isNeedVerification:k}),I=A.email,N=A.accountRef,M=A.emailChecking,L=A.emailErrorTip,R=A.emailExistTip,F=A.showEmailPrompt,U=A.actions,V=(0,d.default)(),B=V.passwordRef,G=V.showPassword,$=V.passwordErrorTip,H=V.actions,W=(0,h.useEdmBox)(),z=W.allowEDM,q=W.actions,K=(0,p.default)({params:t,afterJoin:a}),Y=K.sendPost,J=K.freeLogin,Z=(0,v.default)({sendPost:Y,freeLogin:J,params:t,password:j,allowEDM:z,accountActions:U,passwordActions:H,checkcodeActions:O,baxiaActions:P,isNeedVerification:k}),X=Z.onSubmit,Q=Z.onSend,ee=Z.submit,te=Z.sendVerificationCode;return"emailVerification"===n?i.default.createElement(_.default,{limit:4,params:t,email:I,submit:ee,sendVerificationCode:te}):i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:"fm-field"},i.default.createElement(c.default,{overlay:!0,loading:M}),i.default.createElement("input",{value:I,onChange:U.onChange,className:"fm-text".concat(L?" fm-text-error":""),type:"text","aria-label":m.i18n.EMAIL,placeholder:m.i18n.EMAIL,autoComplete:"off",autoCapitalize:"off",ref:N,onFocus:U.onFocus,onBlur:U.onBlur}),L&&i.default.createElement("span",{className:"fm-error-tip"},L),R&&i.default.createElement("span",{className:"fm-error-tip"},R,"  ",i.default.createElement("a",{className:"fm-email-signin",onClick:function(){r(I)}},"".concat(m.i18n.SIGN_IN," >")," ")),F&&i.default.createElement("ul",{className:"fm-select-list"},w.map((function(e){return i.default.createElement("li",{onMouseDown:function(){U.onEmailPrompt(e)}},e)})))),i.default.createElement("div",{className:"fm-field"},i.default.createElement("input",{className:"fm-text".concat($?" fm-text-error":""),autoComplete:"new-password",type:G?"text":"password",ref:B,onChange:function(){return S(H.getPassword())},onBlur:H.onBlur,placeholder:m.i18n.PASSWORD}),i.default.createElement("span",{className:"fm-text-toggle ".concat(G?"show":"hide"),onClick:H.toggle}),$&&i.default.createElement("span",{className:"fm-error-tip"},$)),i.default.createElement(s.default,{checkcode:T,actions:O}),i.default.createElement(u.default,P),i.default.createElement(h.default,{allow:z,onChange:q.onChange}),i.default.createElement("button",{className:"fm-button",type:"submit",onClick:function(){return k?Q():X()}},m.i18n.CREATE_MY_ACCOUNT),i.default.createElement(l.default,null))};t.default=y},function(e,t,n){},function(e,t,n){"use strict";var r=n(0).default;Object.defineProperty(t,"__esModule",{value:!0}),t.checkEmail=d,t.default=void 0;var a=r(n(5)),o=r(n(9)),i=r(n(7)),u=r(n(6)),s=n(1),c=r(n(8)),l=n(2),f=n(3);function d(e){if(!e)return!1;return!(e.length>128)&&!(!/^\w+(?:\.{0,1}[\w-]+)*@[a-zA-Z0-9]+(?:[-.][a-zA-Z0-9]+)*\.[a-zA-Z]+$/i.test(e)||!/^((?!@(?:.*)alibaba|aliexpress|taobao|alipay).)*$/i.test(e))}var p=function(e){var t=e.params,n=e.checkcodeActions,r=e.isNeedVerification,p=(0,l.getData)(),m=p.api,h=p.abt,v=(0,s.useState)(""),g=(0,u.default)(v,2),_=g[0],y=g[1],b=(0,s.useState)(!1),w=(0,u.default)(b,2),x=w[0],k=w[1],E=(0,s.useState)(""),C=(0,u.default)(E,2),j=C[0],S=C[1],D=(0,s.useState)(""),T=(0,u.default)(D,2),O=T[0],P=T[1],A=(0,s.useRef)(!1),I=(0,s.useState)(!1),N=(0,u.default)(I,2),M=N[0],L=N[1],R=(0,s.useRef)(),F=(0,s.useRef)(null);(0,s.useEffect)((function(){var e;A.current?M||null===(e=F.current)||void 0===e||e.focus():A.current=!0}),[M]);var U=function(){if(_){if(d(_))return S(""),P(""),!0;S(l.i18n.INVALID_EMAIL)}else S(l.i18n.INVALID_EMAIL)};return{email:_,emailChecking:x,emailErrorTip:j,emailExistTip:O,accountRef:F,showEmailPrompt:M,actions:{getEmail:function(){return _},onChange:function(e){var t=e.target.value;y(t),L(/^[^@]*@[^@]*$/.test(t)&&"@"===t.charAt(t.length-1))},onFocus:function(){f.events.emit("join/email_input_focus")},onBlur:function(){var e=(0,i.default)(a.default.mark((function e(){var i;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R.current!==_){e.next=2;break}return e.abrupt("return");case 2:if(R.current=_,U()){e.next=5;break}return e.abrupt("return");case 5:return k(!0),e.next=8,(0,c.default)({url:m.joinEmailCheckApi,data:(0,o.default)((0,o.default)({registerFrom:t.registerFrom,umidToken:f.awsc.umidToken,ua:f.awsc.getUA(),email:_},r?{registerType:"EMAIL_WITH_VERIFY_CODE"}:{}),{},{"aeuic-ab-data":h}),withCredentials:!0}).catch((function(e){}));case 8:if(i=e.sent,k(!1),i){e.next=13;break}return S(l.i18n.UNAVIALABLE_SERVICE),e.abrupt("return");case 13:i.isDisplayCheckCode?n.show({appkey:i.ncAppKey,token:i.ncToken}):n.hide(),i.isEmailExisted?P(l.i18n.EMAIL_EXISTS):P("");case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onEmailPrompt:function(e){L(!1),y((function(t){return t+e}))},validate:U,showEmailErrorTip:function(e){S(e)},showEmailExistTip:function(e){P(e)}}}};t.default=p},function(e,t,n){},function(e,t,n){"use strict";var r=n(0).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(6)),o=n(1),i=function(){var e=(0,o.useState)(!1),t=(0,a.default)(e,2),n=t[0],r=t[1];return{allowEDM:n,actions:{onChange:(0,o.useCallback)((function(){r((function(e){return!e}))}),[])}}};t.default=i},function(e,t,n){"use strict";var r=n(0).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(5)),o=r(n(9)),i=r(n(7)),u=r(n(8)),s=n(3),c=n(2),l=n(12),f=function(e){var t=e.sendPost,n=e.freeLogin,r=e.params,f=e.password,d=e.allowEDM,p=e.isNeedVerification,m=e.accountActions,h=e.passwordActions,v=e.checkcodeActions,g=e.baxiaActions,_=(0,l.useDispatch)(),y=(0,c.useDispatch)(),b=function(){var e=(0,i.default)(a.default.mark((function e(){var n,o,i;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r.registerAction,e.t1=r.registerFrom,e.t2=r.registerFrom,e.t3=r.couponCode||"",e.t4=r.sessionId||"",e.t5=d,e.t6=m.getEmail(),e.t7=f,e.t8=Math.random(),e.next=11,s.awsc.getUmidToken();case 11:return e.t9=e.sent,e.t10=s.awsc.getUA(),e.t11=null===(n=(0,c.getData)())||void 0===n?void 0:n.openWallet,o={action:e.t0,from:e.t1,registerFrom:e.t2,cc:e.t3,_csi_:e.t4,allowEDM:e.t5,email:e.t6,password:e.t7,t:e.t8,umidToken:e.t9,ua:e.t10,openWallet:e.t11},p?Object.assign(o,{event_submit_do_email_register:"anything"}):Object.assign(o,{event_submit_do_buyer_register:"anything"}),Object.assign(o,v.getData()),e.next=19,t(o);case 19:return i=e.sent,e.next=22,k(i);case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=(0,i.default)(a.default.mark((function e(){var t,n,i;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=u.default,e.t1=null===(t=(0,c.getData)())||void 0===t||null===(n=t.api)||void 0===n?void 0:n.joinEmailByCodeCheckApi,e.t2=o.default,e.t3=o.default,e.t4=m.getEmail(),e.next=7,s.awsc.getUmidToken();case 7:return e.t5=e.sent,e.t6=s.awsc.getUA(),e.t7=r.registerFrom,e.t8={email:e.t4,umidToken:e.t5,ua:e.t6,registerFrom:e.t7},e.t9=v.getData(),e.t10=(0,e.t3)(e.t8,e.t9),e.t11={},e.t12={"aeuic-ab-data":null===(i=(0,c.getData)())||void 0===i?void 0:i.abt},e.t13=(0,e.t2)(e.t10,e.t11,e.t12),e.t14={url:e.t1,data:e.t13,withCredentials:!0},e.abrupt("return",(0,e.t0)(e.t14).catch((function(e){})));case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){s.events.emit("join/create_account");var e=m.validate(),t=h.validate(),n=v.validate();return e&&t&&n?!!g.bxValid&&(s.events.emit("join/email-do-creat"),!0):(!e&&s.events.emit("join/email_format_error_front"),!t&&s.events.emit("join/password_format_error_front"),!1)},k=function(){var e=(0,i.default)(a.default.mark((function e(t){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("true"!==(null==t?void 0:t.result)){e.next=4;break}return e.next=3,n(t,{joinType:"email"});case 3:return e.abrupt("return");case 4:if(_({type:"change-view",view:"email"}),t){e.next=9;break}return s.events.emit("join/join_email_fail","unavialable_service"),m.showEmailErrorTip(c.i18n.UNAVIALABLE_SERVICE),e.abrupt("return");case 9:s.events.emit("join/join_email_fail",t),t.email&&(114===t.errorCode?m.showEmailExistTip(t.email):m.showEmailErrorTip(t.email)),t.password&&h.showPasswordErrorTip(t.password),v.reload(),t.checkCode&&v.showErrorTip(t.checkCode);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{onSubmit:function(){var e=(0,i.default)(a.default.mark((function e(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.events.emit("join/email/click"),x()){e.next=3;break}return e.abrupt("return");case 3:return _({type:"show-loading"}),e.next=6,b();case 6:_({type:"hide-loading"});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onSend:function(){var e=(0,i.default)(a.default.mark((function e(){var t;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x()){e.next=2;break}return e.abrupt("return");case 2:return _({type:"show-loading"}),e.next=5,w();case 5:if(t=e.sent,_({type:"hide-loading"}),v.clear(),!0!==(null==t?void 0:t.result)){e.next=13;break}return _({type:"change-view",view:"emailVerification"}),y({type:"hide-tab"}),s.events.emit("join/email/check/show"),e.abrupt("return");case 13:if(2!==(null==t?void 0:t.code)){e.next=16;break}return m.showEmailExistTip(c.i18n.EMAIL_EXISTS),e.abrupt("return");case 16:m.showEmailErrorTip((null==t?void 0:t.codeInfo)||c.i18n.UNAVIALABLE_SERVICE);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),submit:b,sendVerificationCode:w}};t.default=f},function(e,t,n){"use strict";var r=n(0).default;Object.defineProperty(t,"__esModule",{value:!0}),t.getExperimentMap=i,t.checkNeedVerification=function(e){var t,n;return i(e),"1"===(null===(t=a)||void 0===t||null===(n=t.adv01)||void 0===n?void 0:n.bucket)};var a,o=r(n(6));function i(e){if(e&&"string"==typeof e)try{var t=e.split(".")||[];a=t.reduce((function(e,t){var n=t.split("-")||[],r=(0,o.default)(n,3),a=r[0],i=r[1],u=r[2];return a&&i&&u&&(e[a]={bucket:i,uniqueId:u}),e}),{})}catch(e){}}},function(e,t,n){"use strict";var r=n(0).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(1)),o=r(n(104));n(34);var i=function(e){var t=e.limit,n=e.params,r=e.email,i=e.submit,u=e.sendVerificationCode,s=6===t?6:4,c=(0,o.default)({codeLimit:s,params:n,email:r,submit:i,sendVerificationCode:u}),l=c.loginEmail,f=c.inputValue,d=c.inputRefs,p=c.errorTip,m=c.hideResend,h=c.noReceivedTip,v=c.time,g=c.i18n,_=c.actions;return a.default.createElement(a.default.Fragment,null,a.default.createElement("h1",{className:"fm-verify-title"},g.EMAIL_VERIFY_WELCOME,a.default.createElement("br",null),g.EMAIL_VERIFY_LAST),a.default.createElement("p",{className:"fm-verify-desc",dangerouslySetInnerHTML:{__html:g.EMAIL_VERIFY_INPUTGUIDE.replace("{0}",'<span style="font-weight: bold;">&nbsp;'.concat(r,"&nbsp;</span>"))}}),a.default.createElement("p",{className:"fm-verify-desc"},l?a.default.createElement(a.default.Fragment,null,a.default.createElement("a",{className:"fm-verify-link",href:l,target:"_blank",onClick:_.onVisitEmail},g.EMAIL_VERIFY_CHECK),a.default.createElement("span",null," ",g.EMAIL_VERIFY_OR," ")):null,a.default.createElement("span",{className:"fm-verify-link",onClick:function(){return _.onBack("join/email/check/edit")}},g.EMAIL_VERIFY_MODIFY)),a.default.createElement("div",{className:"fm-verify"},f.map((function(e,t){return a.default.createElement("input",{className:"fm-verify-code fm-verify-code-".concat(s),key:t,value:e,onChange:function(){return _.onChange(t)},onClick:function(){return _.inputFocus(t)},onKeyUp:function(e){return _.onKeyUp(e,t)},autoFocus:0===t,autoComplete:"off",ref:d[t]})})),p&&a.default.createElement("span",{className:"fm-error-tip center"},p),v>0?a.default.createElement("p",{className:"fm-verify-resend fm-verify-resend-invalid"},"(",v,") ",g.EMAIL_VERIFY_RESEND):m?null:a.default.createElement("p",{className:"fm-verify-resend"},a.default.createElement("span",{onClick:_.onResend},g.EMAIL_VERIFY_RESEND)),a.default.createElement("button",{className:"fm-button",type:"submit",onClick:_.onSubmit},g.EMAIL_VERIFY_VERIFY)),h?a.default.createElement("p",{className:"fm-verify-other"},a.default.createElement("span",null,g.EMAIL_VERIFY_DIDNT," "),a.default.createElement("span",{className:"fm-verify-link",onClick:function(){return _.onBack("join/email/check/other")}},g.EMAIL_VERIFY_OTHER)):null)};t.default=i},function(e,t,n){"use strict";var r=n(0).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(5)),o=r(n(7)),i=r(n(6)),u=n(1),s=r(n(8)),c=n(2),l=n(12),f=n(3),d=function(e){var t,n=e.codeLimit,r=e.params,d=e.email,p=e.submit,m=e.sendVerificationCode,h=n-1,v=[(0,u.useRef)(null),(0,u.useRef)(null),(0,u.useRef)(null),(0,u.useRef)(null),(0,u.useRef)(null),(0,u.useRef)(null)],g=(0,u.useRef)(),_=(0,u.useRef)(0),y=(0,u.useState)(new Array(n).fill("")),b=(0,i.default)(y,2),w=b[0],x=b[1],k=(0,u.useState)(""),E=(0,i.default)(k,2),C=E[0],j=E[1],S=(0,u.useState)(0),D=(0,i.default)(S,2),T=D[0],O=D[1],P=(0,u.useState)(!1),A=(0,i.default)(P,2),I=A[0],N=A[1],M=(0,u.useState)(!1),L=(0,i.default)(M,2),R=L[0],F=L[1],U=(0,l.useDispatch)(),V=(0,c.useDispatch)(),B=function(){clearInterval(g.current)},G=function(e){var t=v[e].current;t&&(t.focus(),t.select())},$=function(e){O(0),B(),j(e)},H=function(){var e=(0,o.default)(a.default.mark((function e(){var t,r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(""),x(new Array(n).fill("")),null===(t=v[0].current)||void 0===t||t.focus(),O(60),B(),g.current=window.setInterval((function(){O((function(e){return e>1?e-1:(B(),0)}))}),1e3),_.current+=1,_.current>1&&F(!0),f.events.emit("join/email/check/resend"),e.next=10,m();case 10:if(null==(r=e.sent)||!r.result){e.next=13;break}return e.abrupt("return");case 13:240===(null==r?void 0:r.code)&&N(!0),$((null==r?void 0:r.codeInfo)||c.i18n.UNAVIALABLE_SERVICE);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=(0,o.default)(a.default.mark((function e(){var t,o,i;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f.events.emit("join/email/check/submit"),!((o=w.join("")).length<n)){e.next=6;break}return f.events.emit("join/email/check/failed","code number error"),$(c.i18n.NOT_CORRECT_CODE),e.abrupt("return");case 6:return U({type:"show-loading"}),e.t0=s.default,e.t1=(0,c.getData)().api.joinEmailVerificationCheckApi,e.t2=o,e.next=12,f.awsc.getUmidToken();case 12:return e.t3=e.sent,e.t4=f.awsc.getUA(),e.t5=r.registerFrom,e.t6=null===(t=(0,c.getData)())||void 0===t?void 0:t.abt,e.t7={verificationCode:e.t2,umidToken:e.t3,uaToken:e.t4,registerFrom:e.t5,"aeuic-ab-data":e.t6},e.t8={url:e.t1,type:"get",withCredentials:!0,data:e.t7},e.next=20,(0,e.t0)(e.t8).catch((function(e){}));case 20:if(!0!==(null==(i=e.sent)?void 0:i.result)){e.next=27;break}return e.next=24,p();case 24:return U({type:"hide-loading"}),f.events.emit("join/email/check/success"),e.abrupt("return");case 27:if(U({type:"hide-loading"}),i){e.next=32;break}return f.events.emit("join/email/check/failed","code service unavialable"),$(c.i18n.UNAVIALABLE_SERVICE),e.abrupt("return");case 32:if(i.result){e.next=36;break}return f.events.emit("join/email/check/failed","verify error (".concat(i.code,")")),$(i.codeInfo),e.abrupt("return");case 36:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z="",q=null===(t=(0,c.getData)())||void 0===t?void 0:t.emailSuffixMap;if(q)try{for(var K in q)if(RegExp("".concat(K,"$")).test(d)){z=q[K];break}}catch(e){}return{loginEmail:z,inputValue:w,inputRefs:v,errorTip:C,hideResend:I,noReceivedTip:R,time:T,i18n:c.i18n,actions:{inputFocus:G,onBack:function(e){U({type:"change-view",view:"email"}),V({type:"show-tab"}),f.events.emit(e)},onVisitEmail:function(){f.events.emit("join/email/check/visit")},onChange:function(e){var t,n=(null===(t=v[e].current)||void 0===t?void 0:t.value)||"";if(/^[0-9]*$/g.test(n)){var r=w.slice(0);if(2!=n.length)1===n.length&&e<h&&G(e+1),0===n.length&&G(Math.max(0,e-1)),r[e]=n,x(r);else{r[e]=n.substring(0,1),x(r);var a=Math.min(h,e+1);G(a)}}},onKeyUp:function(e,t){var n;8===e.keyCode?""===((null===(n=v[t].current)||void 0===n?void 0:n.value)||"")&&G(Math.max(0,t-1)):37===e.keyCode?G(Math.max(0,t-1)):39===e.keyCode&&t<h&&G(Math.min(5,t+1))},onResend:H,onSubmit:W}}};t.default=d},function(e,t,n){"use strict";var r=n(4).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(106);var a=r(n(1)),o=n(2),i=function(e){var t=e.data,n=(0,o.useDispatch)();return(0,a.useEffect)((function(){n({type:"hide-tab"}),n({type:"hide-sns"})}),[]),a.default.createElement("div",{className:"fm-coupon"},a.default.createElement("div",{className:"login-logo"}),a.default.createElement("div",{className:"coupon-detail-top"},a.default.createElement("div",{className:"result-status"},a.default.createElement("div",{className:"success-mark"}),a.default.createElement("div",{className:"welcome"},t.returnObject.title),a.default.createElement("div",{className:"fail-tip",dangerouslySetInnerHTML:{__html:t.returnObject.failTip}}))),a.default.createElement("div",{className:"coupon-detail-bottom"},t.success?a.default.createElement("div",{className:"coupon-content"},a.default.createElement("div",{className:"receive-desc",dangerouslySetInnerHTML:{__html:t.returnObject.successTip}}),a.default.createElement("div",{className:"coupon-display",style:{background:"url(".concat(t.returnObject.couponImgUrl,") no-repeat"),backgroundSize:"cover"}},a.default.createElement("div",{className:"amount"},t.returnObject.denomination),a.default.createElement("div",{className:"order-amount"},t.returnObject.orderAmountLimit))):null,a.default.createElement("a",{className:"shop-now",href:"//sale.aliexpress.com/new_user_channel.htm"},o.i18n.SHOP_NOW)))};t.default=i},function(e,t,n){},function(e,t,n){"use strict";var r=n(4).default,a=n(0).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(5)),i=a(n(9)),u=a(n(7));n(108);var s=r(n(1)),c=a(n(8)),l=a(n(16)),f=n(3),d=n(2),p=r(n(22)),m=r(n(15)),h=a(n(33)),v=a(n(109)),g=a(n(110)),_=n(12),y=r(n(37)),b=a(n(111)),w=function(e){var t,n=e.params,r=e.view,a=e.onGuideSignIn,w=e.afterJoin,x=d.env.countryAreaSelectSelectStyle,k=(0,_.useDispatch)(),E=(0,v.default)(),C=E.accountRef,j=E.phoneErrorTip,S=E.phoneExistTip,D=E.selectedCountry,T=E.actions,O=(0,m.useCheckcode)({id:"join-phone-check-code",type:"join"}),P=O.checkcode,A=O.actions,I=(0,p.useBaxia)({id:"join-phone-check-code"}),N=(0,y.useEdmBox)(),M=N.allowEDM,L=N.actions,R=(0,s.useRef)(),F=function(){var e=(0,u.default)(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c.default,e.t1=(0,d.getData)().api.joinPhoneCheckApi,e.t2=i.default,e.t3=D.phoneCode+"-"+R.current,e.next=6,f.awsc.getUmidToken();case 6:return e.t4=e.sent,e.t5=f.awsc.getUA(),e.t6=n.registerFrom,e.t7={cellPhone:e.t3,umidToken:e.t4,ua:e.t5,registerFrom:e.t6},e.t8=A.getData(),e.t9=(0,e.t2)(e.t7,e.t8),e.t10={url:e.t1,data:e.t9,withCredentials:!0},e.abrupt("return",(0,e.t0)(e.t10).catch((function(e){})));case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=(0,u.default)(o.default.mark((function e(){var t,n,r,a,i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f.events.emit("join/send_sms_code"),n=T.validate(),r=A.validate(),n){e.next=6;break}return f.events.emit("join/phone_validate_fail",null===(a=C.current)||void 0===a?void 0:a.value),e.abrupt("return");case 6:if(r){e.next=8;break}return e.abrupt("return");case 8:if(I.bxValid){e.next=10;break}return e.abrupt("return");case 10:return R.current=null===(t=C.current)||void 0===t?void 0:t.value,f.events.emit("join/phone_do_sendcode"),e.next=14,F();case 14:if(i=e.sent){e.next=18;break}return T.showPhoneErrorTip(d.i18n.UNAVIALABLE_SERVICE),e.abrupt("return");case 18:if(!i.isDisplayCheckCode){e.next=23;break}return A.show({appkey:i.ncAppKey,token:i.ncToken}),e.abrupt("return");case 23:A.hide();case 24:if(i.result){e.next=27;break}return 220===i.code?T.showPhoneExistTip(i.codeInfo):T.showPhoneErrorTip(i.codeInfo),e.abrupt("return");case 27:i.result&&(f.events.emit("join/phone_do_sendcode_success"),k({type:"change-view",view:"phoneVerification"}));case 28:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=(0,s.useMemo)((function(){return s.default.createElement(y.default,{allow:M,onChange:L.onChange})}),[M]);return"phoneVerification"===r?s.default.createElement(g.default,{params:n,phoneCode:D.phoneCode,phone:R.current,sendSMSCode:F,edm:V}):"phonePassword"===r?s.default.createElement(b.default,{params:n,phoneCode:D.phoneCode,phone:R.current,allowEDM:M,checkcodeData:A.getData(),edm:V,afterJoin:w}):s.default.createElement(s.default.Fragment,null,s.default.createElement("div",{className:"fm-field"},s.default.createElement(h.default,{placeholder:d.i18n.PHONE_NUMBER,accountRef:C,errorTip:j,selectStyle:x,countryList:null===(t=(0,d.getData)().countryAreaConfig)||void 0===t?void 0:t.countryList,onFocus:T.onFocus,onBlur:T.validate,selectedCountry:D,onSelectCountry:T.onSelectCountry}),j&&s.default.createElement("span",{className:"fm-error-tip"},j),S&&s.default.createElement("span",{className:"fm-error-tip"},S,"  ",s.default.createElement("a",{className:"fm-email-signin",onClick:function(){a("".concat(D.phoneCode,"-").concat(R.current))}},"".concat(d.i18n.SIGN_IN," >")," "))),s.default.createElement(m.default,{checkcode:P,actions:A}),s.default.createElement(p.default,I),V,s.default.createElement("button",{className:"fm-button",type:"submit",onClick:U},d.i18n.SEND_SMS_CODE),s.default.createElement("div",{className:"fm-agreement"},d.i18n.SMS_POLICY),s.default.createElement(l.default,{show:!1}))};t.default=w},function(e,t,n){},function(e,t,n){"use strict";var r=n(0).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(6)),o=n(1),i=n(2),u=n(3),s=function(){var e=(0,i.getData)().countryAreaConfig,t=(0,o.useRef)(),n=(0,o.useState)(""),r=(0,a.default)(n,2),s=r[0],c=r[1],l=(0,o.useState)(""),f=(0,a.default)(l,2),d=f[0],p=f[1],m=(0,o.useState)((function(){if(e){var t=e.countryList.filter((function(t){return t.countryCode===e.defaultCountryCode}));return(null==t?void 0:t[0])||{phoneCode:"86",countryCode:"CN"}}})),h=(0,a.default)(m,2),v=h[0],g=h[1];return{accountRef:t,phoneErrorTip:s,phoneExistTip:d,selectedCountry:v,actions:{getPhone:function(){var e;return v.phoneCode+"-"+(null===(e=t.current)||void 0===e?void 0:e.value)},onFocus:function(){u.events.emit("join/phone_input_focus")},validate:function(){var e,n=(null===(e=t.current)||void 0===e?void 0:e.value)||"";if(/^[\d]{6,12}$/.test(n))return c(""),p(""),!0;c(i.i18n.VALID_NUMBER)},onSelectCountry:g,showPhoneErrorTip:c,showPhoneExistTip:p}}};t.default=s},function(e,t,n){"use strict";var r=n(4).default,a=n(0).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(5)),i=a(n(7)),u=a(n(6)),s=r(n(1)),c=a(n(8)),l=a(n(16)),f=n(2),d=n(12),p=n(3),m=function(e){var t=e.params,n=e.phoneCode,r=e.phone,a=e.sendSMSCode,m=e.edm,h=(0,d.useDispatch)(),v=(0,f.useDispatch)(),g=(0,s.useState)(["","","","","",""]),_=(0,u.default)(g,2),y=_[0],b=_[1],w=(0,s.useState)(""),x=(0,u.default)(w,2),k=x[0],E=x[1],C=(0,s.useState)(60),j=(0,u.default)(C,2),S=j[0],D=j[1],T=(0,s.useRef)(),O=(0,s.useRef)(0),P=(0,s.useState)(!1),A=(0,u.default)(P,2),I=A[0],N=A[1],M=[(0,s.useRef)(null),(0,s.useRef)(null),(0,s.useRef)(null),(0,s.useRef)(null),(0,s.useRef)(null),(0,s.useRef)(null)];(0,s.useEffect)((function(){return L(),function(){R()}}),[]);var L=function(){R(),T.current=window.setInterval((function(){D((function(e){return e-1}))}),1e3)},R=function(){clearInterval(T.current)},F=function(e){var t=M[e].current;t&&(t.focus(),t.select())},U=function(e){D(0),R(),E(e)},V=function(){var e=(0,i.default)(o.default.mark((function e(){var t,n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(""),b(["","","","","",""]),null===(t=M[0].current)||void 0===t||t.focus(),D(60),L(),O.current+=1,O.current>2&&N(!0),e.next=9,a();case 9:if(null==(n=e.sent)||!n.result){e.next=12;break}return e.abrupt("return");case 12:U((null==n?void 0:n.codeInfo)||f.i18n.UNAVIALABLE_SERVICE);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=(0,i.default)(o.default.mark((function e(){var n,r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p.events.emit("join/create_account_phone"),!((n=y.join("")).length<6)){e.next=6;break}return p.events.emit("join/code_empty_error"),U(f.i18n.NOT_CORRECT_CODE),e.abrupt("return");case 6:return h({type:"show-loading"}),e.t0=c.default,e.t1=(0,f.getData)().api.joinVerificationCheckApi,e.t2=n,e.next=12,p.awsc.getUmidToken();case 12:return e.t3=e.sent,e.t4=p.awsc.getUA(),e.t5=t.registerFrom,e.t6={verificationCode:e.t2,umidToken:e.t3,uaToken:e.t4,registerFrom:e.t5},e.t7={url:e.t1,type:"get",withCredentials:!0,data:e.t6},e.next=19,(0,e.t0)(e.t7).catch((function(e){}));case 19:if(r=e.sent,h({type:"hide-loading"}),r){e.next=25;break}return p.events.emit("join/code_unavialable_service"),U(f.i18n.UNAVIALABLE_SERVICE),e.abrupt("return");case 25:if(r.result){e.next=29;break}return p.events.emit("join/code_incorrect_error"),U(r.codeInfo),e.abrupt("return");case 29:p.events.emit("join/create_account_phone_success"),h({type:"change-view",view:"phonePassword"}),v({type:"hide-tab"}),v({type:"hide-sns"});case 33:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return s.default.createElement(s.default.Fragment,null,s.default.createElement("p",{className:"fm-desc"},f.i18n.SEND_TO," ",s.default.createElement("b",null,"+".concat(n," ").concat(r)),"."),s.default.createElement("p",{className:"fm-desc"},f.i18n.VERIFICATION_RECEIVED," ",s.default.createElement("a",{className:"fm-link",onClick:function(){h({type:"change-view",view:"phone"})}},f.i18n.EDIT_NUMBER)),s.default.createElement("div",{className:"fm-verification"},y.map((function(e,t){return s.default.createElement("input",{className:"fm-verification-code",key:t,value:e,onChange:function(e){return function(e){var t,n=(null===(t=M[e].current)||void 0===t?void 0:t.value)||"";if(/^[0-9]*$/g.test(n)){var r=y.slice(0);if(2!=n.length)1===n.length&&e<5&&F(e+1),0===n.length&&F(Math.max(0,e-1)),r[e]=n,b(r);else{r[e]=n.substring(0,1),b(r);var a=Math.min(5,e+1);F(a)}}}(t)},onClick:function(e){return F(t)},onKeyUp:function(e){return function(e,t){var n;8===e.keyCode?""===((null===(n=M[t].current)||void 0===n?void 0:n.value)||"")&&F(Math.max(0,t-1)):37===e.keyCode?F(Math.max(0,t-1)):39===e.keyCode&&t<5&&F(Math.min(5,t+1))}(e,t)},autoFocus:0===t,ref:M[t]})}))),k&&s.default.createElement("span",{className:"fm-error-tip center"},k),S>0?s.default.createElement("p",{className:"fm-resend invalid"},"(",S,") ",f.i18n.RESEND_CODE):s.default.createElement("p",{className:"fm-resend"},s.default.createElement("span",{onClick:V},f.i18n.RESEND_CODE)),I&&s.default.createElement("div",{className:"fm-no-code"},f.i18n.NO_RECEIVED_CODE," ",s.default.createElement("a",{className:"fm-link",onClick:function(){h({type:"change-view",view:"email"})}},f.i18n.VIA_EMAIL,"> ")),m,s.default.createElement("button",{className:"fm-button",type:"submit",onClick:B},f.i18n.CREATE_MY_ACCOUNT),s.default.createElement(l.default,null))};t.default=m},function(e,t,n){"use strict";var r=n(4).default,a=n(0).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(5)),i=a(n(9)),u=a(n(7)),s=r(n(1)),c=n(2),l=a(n(35)),f=a(n(36)),d=n(12),p=n(3),m=function(e){var t=e.params,n=e.phoneCode,r=e.phone,a=e.allowEDM,m=e.checkcodeData,h=e.edm,v=e.afterJoin,g=(0,d.useDispatch)(),_=(0,l.default)(),y=_.passwordRef,b=_.showPassword,w=_.passwordErrorTip,x=_.actions,k=(0,f.default)({params:t,afterJoin:v}),E=k.sendPost,C=k.freeLogin,j=function(){var e=(0,u.default)(o.default.mark((function e(){var u;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=i.default,e.t1=t.registerFrom,e.t2="".concat(n,"-").concat(r),e.t3=x.getPassword(),e.t4=a,e.t5=Math.random(),e.t6=t.sessionId||"",e.next=9,p.awsc.getUmidToken();case 9:return e.t7=e.sent,e.t8=p.awsc.getUA(),e.t9=(0,c.getData)().openWallet,e.t10={action:"buyerJoin/phone_register_action",registerFrom:e.t1,event_submit_do_phone_register:"anything",cellPhone:e.t2,password:e.t3,allowEDM:e.t4,t:e.t5,_csi_:e.t6,umidToken:e.t7,ua:e.t8,openWallet:e.t9},e.t11=m||{},u=(0,e.t0)(e.t10,e.t11),e.abrupt("return",E(u));case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=(0,u.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=4;break}return p.events.emit("join/join_fail","unavialable_service"),x.showPasswordErrorTip(c.i18n.UNAVIALABLE_SERVICE),e.abrupt("return");case 4:if(!0!==t.result){e.next=8;break}return e.next=7,C(t,{joinType:"phone"});case 7:return e.abrupt("return");case 8:p.events.emit("join/join_fail",t.codeInfo),x.showPasswordErrorTip(t.codeInfo);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=(0,u.default)(o.default.mark((function e(){var t,n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p.events.emit("join/password_phone"),x.validate()){e.next=5;break}return null!==(t=y.current)&&void 0!==t&&t.value?p.events.emit("join/password_incorrect"):p.events.emit("join/password_empty_error"),e.abrupt("return");case 5:return g({type:"show-loading"}),e.next=8,j();case 8:return n=e.sent,e.next=11,S(n);case 11:g({type:"hide-loading"});case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return s.default.createElement(s.default.Fragment,null,s.default.createElement("h2",{className:"fm-title"},c.i18n.LAST_STEP),s.default.createElement("p",{className:"fm-password-desc"},c.i18n.SET_SIGN_IN_PASSWORD),s.default.createElement("div",{className:"fm-field"},s.default.createElement("input",{className:"fm-text",type:"text","aria-label":c.i18n.EMAIL,placeholder:"+"+n+" "+r,disabled:!0})),s.default.createElement("div",{className:"fm-field"},s.default.createElement("input",{className:"fm-text".concat(w?" fm-text-error":""),autoComplete:"new-password",type:b?"text":"password",ref:y,onBlur:x.onBlur,placeholder:c.i18n.PASSWORD}),s.default.createElement("span",{className:"fm-text-toggle ".concat(b?"show":"hide"),onClick:x.toggle}),w?s.default.createElement("span",{className:"fm-error-tip"},w):s.default.createElement("span",{className:"fm-text-tip"},c.i18n.INVALID_PASSWORD)),h,s.default.createElement("button",{className:"fm-button",type:"submit",onClick:D},c.i18n.SAVE_PASSWORD))},h=(0,s.memo)(m);t.default=h},function(e,t,n){"use strict";var r=n(4).default,a=n(0).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(6));n(113);var i=r(n(1)),u=a(n(10)),s=a(n(14)),c=n(2),l=n(3),f=function(e){var t=e.show,n=e.afterLogin,r=e.snsReturnUrl,a=(0,i.useState)(!1),f=(0,o.default)(a,2),d=f[0],p=f[1],m=(0,c.useData)(),h=m.loading,v=m.snsConfig;if(!t)return null;var g=function(){p((function(e){return!e}))},_=(null!=v&&v.displayItemsForWeb?v.displayItemsForWeb:v)||[];if(_.length>0){var y=u.default.getReSns();if(y)for(var b=0,w=_.length;b<w;b++)if(_[b].name===y){var x=_[b];_.splice(b,1),_.unshift(x);break}}var k=d?_:_.slice(0,4),E=encodeURIComponent(r),C=(0,l.isMobile)()?"&from=msite&return_url=".concat(E):"&return_url=".concat(E);return i.default.createElement("section",{className:"fm-sns"},i.default.createElement("p",{className:"fm-sns-title"},c.i18n.QUICK_ACCESS),i.default.createElement(s.default,{loading:h&&0===_.length,wrap:i.default.createElement("div",{className:"fm-sns-loading"})}),i.default.createElement("div",{className:"fm-sns-btns"},k.map((function(e,t){return i.default.createElement("div",{className:"fm-sns-item-wrap",key:e.name},i.default.createElement("a",{className:"fm-sns-item ".concat(e.name).concat(t>3?" more":""),href:"".concat(e.requestUrl).concat(C),target:"_blank",onClick:function(){var e;e=setInterval((function(){u.default.isLoggedIn()&&(clearInterval(e),n())}),100),setTimeout((function(){clearInterval(e)}),3e5),l.events.emit("sns/click")}}))}))),_.length>4&&i.default.createElement("p",{className:"fm-sns-trigger"},d?i.default.createElement("a",{className:"hide",onClick:g},c.i18n.HIDE):i.default.createElement("a",{className:"show-all",onClick:g},c.i18n.SHOW_ALL)))},d=(0,i.memo)(f);t.default=d},function(e,t,n){},function(e,t,n){"use strict";var r=n(4).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(1)),o=n(2);n(115);var i=function(e){var t=e||{},n=t.tab,r=t.agreeTerms,i=(0,o.getData)();if("true"!==String(null==i?void 0:i.showPact))return null;var u="join"===n&&!r;return a.default.createElement("div",{className:"fm-terms-iframe",style:{display:u?"block":"none"}},a.default.createElement("iframe",{src:"//campaign.aliexpress.com/wow/gcp/app-register-terms/index"}))},u=(0,a.memo)(i);t.default=u},function(e,t,n){},function(e,t,n){"use strict";var r=(0,n(0).default)(n(117)),a=n(3);a.events.on("join/join_email_fail",(function(e){r.default.error(new Error("[batman-join-fail]: ".concat(JSON.stringify(e))))})),a.events.on("login/login_fail",(function(e){var t=e.loginType,n=e.error;r.default.error(new Error("[batman-login-fail]: ".concat(t,", ").concat(n)))})),a.events.on("safe/umid_token_empty",(function(){r.default.error(new Error("[batman-safe]: umid_token_empty"))}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;function r(e){return"number"!=typeof e||e>3e4||e<0?0:Math.round(e)}function a(e){return r(window.performance&&window.performance.timing?e-window.performance.timing.fetchStart:0)}var o={error:function(e,t){window.__bl&&window.__bl.error?window.__bl.error(e,t):window.__bl&&(window.__bl.pipe=window.__bl.pipe||[],window.__bl.pipe.push(["error",e,t]))},api:{success:function(e,t,n,r){window.__bl&&window.__bl.api?window.__bl.api(e,!0,t,n,r):window.__bl&&(window.__bl.pipe=window.__bl.pipe||[],window.__bl.pipe.push(["api",e,!0,t,n,r]))},error:function(e,t,n,r){window.__bl&&window.__bl.api?window.__bl.api(e,!1,t,n,r):window.__bl&&(window.__bl.pipe=window.__bl.pipe||[],window.__bl.pipe.push(["api",e,!1,t,n,r]))}},report:function(e){try{if(!e)return;if(!("Promise"in window))return;if(!window.performance)return;Object.keys(e).forEach((function(t){var n=e[t];if("number"!=typeof n){if(!n||!n.then)throw new Error("performance package: first argument of function reportPerformance need to be a promise or thenable!");e[t]=n.then((function(e){return a(e)}))}else e[t]=r(n)}));var t={ctti:new Promise((function(e){o.interactiveTimerId=setTimeout((function(){e(a(Date.now()))}),0)})).catch((function(e){throw new Error(e)})),t1:(s=0,new Promise((function(e){if("function"==typeof window.performance.getEntriesByType){var t=performance.getEntriesByType("paint");if(t)for(var n=0,a=t.length;n<a;n++){var o=t[n];"first-paint"===o.name&&(s=o.startTime)}}else if(window.chrome&&window.chrome.loadTimes){var i=window.chrome.loadTimes();s=1e3*(i.firstPaintTime-i.startLoadTime)}else"number"==typeof window.performance.timing.msFirstPaint&&(s=window.performance.timing.msFirstPaint-window.performance.timing.navigationStart);e(r(s))})).catch((function(e){throw new Error(e)})))},n=Object.assign(t,e),i=[],u=[];Object.keys(n).forEach((function(e){i.push(e),u.push(n[e])})),Promise.all(u).then((function(e){var t={};e.forEach((function(e,n){t[i[n]]=e}));var n=["performance",t];window.__bl&&window.__bl.performance?window.__bl.performance(t):window.__bl&&(window.__bl.pipe=window.__bl.pipe||[],window.__bl.pipe.push(n))})).catch((function(e){throw console.error(e),new Error(e)}))}catch(e){throw new Error(e)}var s},gc:function(){clearTimeout(this.interactiveTimerId)}},i=o;t.default=i},function(e,t,n){"use strict";var r=n(3),a=n(119);r.events.once("login/show_view_password",(function(){(0,a.exposure)({exp_type:"signin_tab"})})),r.events.once("login/show_view_mobilePassword",(function(){(0,a.exposure)({exp_type:"signin_phone_tab"})})),r.events.once("join/show_view_email",(function(){(0,a.exposure)({exp_type:"register_tab"})})),r.events.once("join/show_view_phone",(function(){(0,a.exposure)({exp_type:"register_phone_tab"})})),r.events.once("join/email_input_focus",(function(){(0,a.click)({ae_button_type:"email_register_input",ae_object_type:"input_box"})})),r.events.once("join/phone_input_focus",(function(){(0,a.click)({ae_button_type:"phone_register_input",ae_object_type:"input_box"})})),r.events.once("login/email_input_focus",(function(){(0,a.click)({ae_button_type:"email_signin_input",ae_object_type:"input_box"})})),r.events.once("login/phone_input_focus",(function(){(0,a.click)({ae_button_type:"phone_signin_input",ae_object_type:"input_box"})})),r.events.on("join/create_account",(function(){(0,a.click)({ae_button_type:"register_create_account"})})),r.events.on("join/email_do_creat",(function(){(0,a.click)({ae_button_type:"register_email_do_creat"})})),r.events.on("join/email_format_error_front",(function(){(0,a.click)({ae_button_type:"register_email_format_error_front"})})),r.events.on("join/password_format_error_front",(function(){(0,a.click)({ae_button_type:"register_password_format_error_front"})})),r.events.on("join/join_success",(function(e){var t=e.joinType;"email"===t?(0,a.click)({ae_button_type:"batman_email_join_success"}):"phone"===t&&(0,a.click)({ae_button_type:"batman_phone_join_success"})})),r.events.on("join/join_email_fail",(function(e){if("string"!=typeof e){var t=e.checkCode,n=e.errorCode;-1!==[102,110,111,112,113,116].indexOf(n)?(0,a.click)({ae_button_type:"register_email_format_error_back"}):-1!==[114,115].indexOf(n)?(0,a.click)({ae_button_type:"register_Email_exists_back"}):-1!==[150,151,152,153].indexOf(n)?(0,a.click)({ae_button_type:"register_password_format_error_back"}):t?(0,a.click)({ae_button_type:"register_verify_fail"}):(0,a.click)({ae_button_type:"register_fail_others",ae_object_value:e})}else(0,a.click)({ae_button_type:"register_fail_others",ae_object_value:e})})),r.events.on("join/exist_sign_in",(function(){(0,a.click)({ae_button_type:"register_fail_signin"})})),r.events.on("join/send_sms_code",(function(){(0,a.click)({ae_button_type:"send_sms_code"})})),r.events.on("join/phone_validate_fail",(function(e){e?(0,a.click)({ae_button_type:"phone_invalid_error"}):(0,a.click)({ae_button_type:"phone_empty_error"})})),r.events.on("join/phone_do_sendcode",(function(){(0,a.click)({ae_button_type:"register_phone_do_sendcode"})})),r.events.on("join/phone_do_sendcode_success",(function(){(0,a.click)({ae_button_type:"register_phone_do_sendcode_success"})})),r.events.on("join/create_account_phone",(function(){(0,a.click)({ae_button_type:"create_account_phone"})})),r.events.on("join/create_account_phone_success",(function(){(0,a.click)({ae_button_type:"create_account_phone_success"})})),r.events.on("join/code_empty_error",(function(){(0,a.click)({ae_button_type:"code_empty_error"})})),r.events.on("join/code_incorrect_error",(function(){(0,a.click)({ae_button_type:"code_incorrect_error"})})),r.events.on("join/code_unavialable_service",(function(){(0,a.click)({ae_button_type:"code_unavialable_service"})})),r.events.on("join/password_phone",(function(){(0,a.click)({ae_button_type:"password_phone"})})),r.events.on("join/password_empty_error",(function(){(0,a.click)({ae_button_type:"password_empty_error"})})),r.events.on("join/password_incorrect",(function(){(0,a.click)({ae_button_type:"password_incorrect"})})),r.events.on("login/login",(function(e){"email"===e.loginType?(0,a.click)({ae_button_type:"signin_email"}):(0,a.click)({ae_button_type:"signin_phone"})})),r.events.on("login/login_validate",(function(e){"email"===e.loginType?(0,a.click)({ae_button_type:"signin_email_do_signin"}):(0,a.click)({ae_button_type:"signin_phone_do_signin"})})),r.events.on("login/login_validate_fail",(function(e){"email"===e.loginType?(0,a.click)({ae_button_type:"signin_email_do_signin_fail"}):(0,a.click)({ae_button_type:"signin_phone_do_signin_fail"})})),r.events.on("login/login_success",(function(e){"email"===e.loginType?(0,a.click)({ae_button_type:"batman_email_signin_success"}):(0,a.click)({ae_button_type:"batman_phone_signin_success"})})),r.events.on("login/login_fail",(function(e){var t=e.loginType,n=e.error;"email"===t?(0,a.click)({ae_button_type:"signin_email_fail_others",ae_object_value:n}):(0,a.click)({ae_button_type:"signin_phone_fail_others",ae_object_value:n})})),r.events.on("capche/show",(function(){(0,a.exposure)({exp_type:"safety_slider"})})),r.events.on("captcha/validate_success",(function(){(0,a.click)({ae_button_type:"safety_slider_success",ae_object_type:"button"})})),r.events.on("agreement/member",(function(){(0,a.click)({ae_button_type:"register_agreement",ae_object_type:"button",ae_object_value:"register_agreement"})})),r.events.on("agreement/policy",(function(){(0,a.click)({ae_button_type:"register_agreement",ae_object_type:"button",ae_object_value:"privacy_policy"})})),r.events.on("channel_abtag",(function(e){(0,a.click)({ae_button_type:"channel_abtag",ae_object_value:"reg_opt_channel=".concat(e.channel,";reg_opt_abtag=").concat(e.bucket)})})),r.events.on("join/email/check/show",(function(){(0,a.exposure)({exp_type:"register_email_check_show"})})),r.events.on("join/email/check/visit",(function(){(0,a.click)({ae_button_type:"register_email_check_visit",ae_object_type:"button"})})),r.events.on("join/email/check/edit",(function(){(0,a.click)({ae_button_type:"register_email_check_edit",ae_object_type:"button"})})),r.events.on("join/email/check/other",(function(){(0,a.click)({ae_button_type:"register_email_check_other",ae_object_type:"button"})})),r.events.on("join/email/check/resend",(function(){(0,a.click)({ae_button_type:"register_email_check_resend",ae_object_type:"button"})})),r.events.on("join/email/check/submit",(function(){(0,a.click)({ae_button_type:"register_email_check_submit",ae_object_type:"button"})})),r.events.on("join/email/check/success",(function(){(0,a.click)({ae_button_type:"register_email_check_success",ae_object_value:"success"})})),r.events.on("join/email/check/failed",(function(e){(0,a.click)({ae_button_type:"register_email_check_failed",ae_object_value:e})}))},function(e,t,n){"use strict";function r(e){var t=Object.keys(e.params).map((function(t){return t+"="+e.params[t]})).join("&");window.goldlog&&window.goldlog.record(e.path,e.event,"st_page_id=".concat(window.dmtrack_pageid,"&").concat(t),"POST")}function a(e){try{window.goldlog?e():(window.goldlog_queue||(window.goldlog_queue=[])).push({action:"goldlog.aplus_pubsub.subscribe",arguments:["goldlogReady",function(){e()}]})}catch(e){}}function o(){return new Promise((function(e){a((function(){e()}))})).then((function(){return window.dmtrack_pageid}))}function i(e){a((function(){r({path:"/ae.pc_click.statweb_ae_click",event:"CLK",params:e})}))}function u(e){a((function(){r({path:"/ae.pc_ctr.statweb_ae_ctr",event:"EXP",params:e})}))}n.r(t),n.d(t,"getPageId",(function(){return o})),n.d(t,"click",(function(){return i})),n.d(t,"exposure",(function(){return u}))},function(e,t,n){"use strict";var r=n(0).default,a=n(4).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(5)),i=r(n(7)),u=r(n(13)),s=a(n(1)),c=r(n(10)),l=n(21),f=r(n(121));n(38);var d=["visible","validate","validateFail","afterClose","children"],p=function(e){var t=e.visible,n=e.validate,r=e.validateFail,a=e.afterClose,p=e.children,m=(0,u.default)(e,d),h=function(){var e=(0,i.default)(o.default.mark((function e(){var t,i,u;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n||n()){e.next=3;break}return r&&r(),e.abrupt("return");case 3:if(!c.default.isLoggedIn()){e.next=6;break}return m.always&&m.always({direct:!0}),e.abrupt("return");case 6:t=function(){u.close(),a&&a()},i=function(){u.close(),m.always&&m.always.apply(m,arguments)},u=(0,l.open)(s.default.createElement(f.default,Object.assign({},m,{onClose:t,always:i})),{wrap:!1});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,s.useEffect)((function(){t&&h()}),[]),s.default.cloneElement(p,{onClick:h})};t.default=p},function(e,t,n){"use strict";var r=n(0).default,a=n(4).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(5)),i=r(n(7)),u=r(n(6)),s=r(n(13)),c=a(n(1)),l=r(n(8)),f=r(n(21)),d=r(n(24)),p=a(n(122));n(132);var m,h=n(3),v=n(2),g=["onClose"];!function(e){e[e.unSet=0]="unSet",e[e.batman=1]="batman",e[e.channel=2]="channel"}(m||(m={}));var _=(0,c.forwardRef)((function(e,t){var n=e.onClose,r=(0,s.default)(e,g),a=(0,c.useState)("login"===r.tab?m.batman:m.unSet),_=(0,u.default)(a,2),y=_[0],b=_[1],w=(0,c.useState)(null),x=(0,u.default)(w,2),k=x[0],E=x[1],C=(0,c.useState)(),j=(0,u.default)(C,2),S=j[0],D=j[1];(0,c.useEffect)((function(){(0,i.default)(o.default.mark((function e(){var t;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("login"!==r.tab){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,p.getChannelConfig)();case 4:null!=(t=e.sent)&&t.channel&&h.events.emit("channel_abtag",t),(0,p.showGoogleChannel)(r.tab,t)?(b(m.channel),D({channel:"Google"})):(0,p.showChannel)(r.tab,t)?(b(m.channel),D(t)):b(m.batman);case 7:case"end":return e.stop()}}),e)})))()}),[]),(0,c.useEffect)((function(){(0,i.default)(o.default.mark((function e(){var t;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.default)({url:v.env.isRu?"https://login.aliexpress.ru/join/login_page_config.htm?isPop=true":"https://login.aliexpress.com/join/login_page_config.htm?isPop=true",withCredentials:!0}).catch((function(e){}));case 2:t=e.sent,(0,v.updateI18n)(null==t?void 0:t.lang),E(t);case 5:case"end":return e.stop()}}),e)})))()}),[]);var T=k&&y!==m.unSet;return c.default.createElement(f.default,{open:T,onClose:n,wrapProps:{id:"batman-dialog-overlay-wrap"},contentProps:{id:"batman-dialog-wrap"}},c.default.createElement("div",{className:"fm-dialog-body"},c.default.createElement("div",{className:"fm-logo"}),c.default.createElement("a",{className:"fm-dialog-close",onClick:n}),y===m.channel&&c.default.createElement(p.default,Object.assign({},S,{returnUrl:r.snsReturnUrl||window.location.href,onClose:n,always:r.always,selectOtherJoin:function(){b(m.batman)}})),y===m.batman&&k&&c.default.createElement(d.default,Object.assign({},r,{type:"dialog",data:k}))))}));t.default=_},function(e,t,n){"use strict";var r=n(0).default;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getChannelConfig",{enumerable:!0,get:function(){return p.getChannelConfig}}),Object.defineProperty(t,"showChannel",{enumerable:!0,get:function(){return p.showChannel}}),Object.defineProperty(t,"showGoogleChannel",{enumerable:!0,get:function(){return p.showGoogleChannel}}),t.default=void 0;var a=r(n(17)),o=r(n(18)),i=r(n(123)),u=r(n(125)),s=r(n(1)),c=r(n(10)),l=r(n(16)),f=n(3),d=n(2);n(130);var p=n(131),m={Google:{type:"gg",name:"Google",img:"//ae01.alicdn.com/kf/Hdb0abc71439a4fae9c20b8b00c3a66fdP.png"},FB:{type:"fb",name:"Facebook",img:"//ae01.alicdn.com/kf/H181a254fc05c40f083aafc892f4fbdffu.png"},Ins:{type:"ins",name:"Instagram",img:"//ae01.alicdn.com/kf/Hbb5b0a67e2a1473d81428bfab9f18914E.png"},OK:{type:"ok",name:"OK",img:"//ae01.alicdn.com/kf/H5031aad136244c95ac5f190b88e9ce659.png"},Pin:{type:"pt",name:"Pinterest",img:"//ae01.alicdn.com/kf/H7dd1202890644bb9a336fac21711a9e7z.png"},Tiktok:{type:"tiktok",name:"Tiktok",img:"//ae01.alicdn.com/kf/H0d8651cf75ed499089d4c3dcfc6b9213w.png"},VK:{type:"vk",name:"VK",img:"//ae01.alicdn.com/kf/H2eb4367f41b24aa59213ab2a49e4625fi.png"},Twitter:{type:"tt",name:"Twitter",img:"//ae01.alicdn.com/kf/Hcb783ea9d6bd4134bf71d4f750195970n.png"}},h=function(e){(0,i.default)(n,e);var t=(0,u.default)(n);function n(){var e;(0,a.default)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).onClick=function(){var t=setInterval((function(){c.default.isLoggedIn()&&(clearInterval(t),e.props.always())}),100);setTimeout((function(){clearInterval(t)}),3e5)},e}return(0,o.default)(n,[{key:"render",value:function(){var e=this.props,t=e.channel,n=e.returnUrl,r=e.selectOtherJoin,a=m[t]||{},o="//thirdparty.aliexpress.com/login.htm?type=".concat(a.type,"&from=").concat((0,f.isMobile)()?"msite":"pc","&return_url=").concat(n);return s.default.createElement("div",{className:"batman batman-channel-main"},s.default.createElement("div",{className:"login-logo"}),s.default.createElement("p",{className:"batman-channel-title"},(d.i18n.JOIN_ONE_CLICK||"").replace("{0}",a.name)),s.default.createElement("div",{className:"batman-channel-image"},s.default.createElement("a",{href:o,target:"_blank",onClick:this.onClick},s.default.createElement("img",{src:a.img}),s.default.createElement("span",null,(d.i18n.SIGN_IN_WITH||"").replace("{0}",a.name)))),s.default.createElement("span",{className:"batman-channel-other",onClick:r},(d.i18n.OTHER_WAY||"").replace("{0}",d.i18n.VIEW)),s.default.createElement(l.default,null))}}]),n}(s.default.PureComponent);t.default=h},function(e,t,n){var r=n(124);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,n(t,r)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(126),a=n(127),o=n(128);e.exports=function(e){var t=a();return function(){var n,a=r(e);if(t){var i=r(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return o(this,n)}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.default=e.exports,e.exports.__esModule=!0,n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(23).default,a=n(129);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?a(e):t},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){},function(e,t,n){"use strict";var r=n(0).default;Object.defineProperty(t,"__esModule",{value:!0}),t.getChannelConfig=function(){return(0,o.default)({url:a.env.isRu?"//login.aliexpress.ru/join/loginDisplayConfig.htm?scene=all":"//login.aliexpress.com/join/loginDisplayConfig.htm?scene=all",withCredentials:!0}).catch((function(e){}))},t.showChannel=function(e,t){if("login"===e)return!1;return t&&"channelFirst"===t.displayType&&"1"===t.bucket&&t.channel},t.showGoogleChannel=function(e,t){if("login"===e)return!1;return t&&t.onetap&&window.navigator.userAgent.indexOf("Chrome")>-1&&i.default.isNewUser()};var a=n(2),o=r(n(8)),i=r(n(10))},function(e,t,n){}]).default;